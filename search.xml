<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SoC设计项目：在FPGA上实现M0内核及视频图像处理</title>
      <link href="/2024/07/24/IC%E8%AE%BE%E8%AE%A1%E9%A1%B9%E7%9B%AE/M0-ISP/"/>
      <url>/2024/07/24/IC%E8%AE%BE%E8%AE%A1%E9%A1%B9%E7%9B%AE/M0-ISP/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础介绍"><a class="anchor" href="#基础介绍">#</a> 基础介绍</h1><h2 id="cortex-m0"><a class="anchor" href="#cortex-m0">#</a> Cortex-M0</h2><p>Cortex-M0 是 ARM 公司在 2009 年发布的一款处理器，它基于冯・诺依曼架构，使用 32 位的精简指令集（RISC），Cortex-M0 的架构是 ARMv6-M，其中 M 表示的是架构的指令集为 Thumb 指令集的子集，虽然 ARM Cortex-M0 和 M0 + 两种微内核属于 ARMv6 版，但发布日期却在 ARMv7 之后，ARM 为了实现使用户能够在 FPGA 上使用 ARM 处理器以及实现超低功耗的嵌入式处理器应用，综合 ARMv7 的存储器系统和编程模型等技术，支持 Thumb-2 指令集 并针对功耗做进一步优化了现有的 ARMv6 架构，开发出了 ARMv6-M 架构，</p><p>下图是 Cortex-M0 的系统框图</p><p><img src="https://rootx-blogs-img.oss-cn-beijing.aliyuncs.com/pictures/202407252241992.jpg" alt="arm_cortex-m0_structure" /></p><p>包括</p><ul><li><p>处理器核心</p><ul><li>寄存器组</li><li>算术逻辑单元（ALU）</li><li>数据总线</li><li>控制逻辑</li><li>三级流线设计：取指、译码、执行</li><li>0.85~1.27 DMIPS/MHz</li></ul></li><li><p>嵌套向量中断控制器 NVIC</p><ul><li><p>32 个中断请求</p></li><li><p>1 个不可屏蔽中断输入（NMI）</p></li></ul></li><li><p>内部总线系统</p><ul><li>32 位总线</li></ul></li></ul><p>目前 ARM 已经开放了 M0 和 M3 的 IP 核，可在如下的链接下载，或者去官网下载中心搜索</p><p><a href="https://www.arm.com/resources/free-evaluation-arm-cpus">Arm CPU Evaluation – Arm®</a></p><p>关于 M0 内核的相关内容，以后再写一篇博客，这里就不多赘述</p><p> </p><h2 id="ahb-lite"><a class="anchor" href="#ahb-lite">#</a> AHB-Lite</h2><p>AHB-Lite 是 AHB 的子集，是一个单主多从的总线，其结构框图如下，图中位 1 个 Master 和 3 个 Slave</p><p><img src="https://rootx-blogs-img.oss-cn-beijing.aliyuncs.com/pictures/202407252323126.png" alt="tmpA88" /></p><p>AHB-Lite 的大致工作流程是，主机发送地址和数据，（事实上是分两个时钟发出的，数据滞后地址一个时钟周期），解码器通过对地址解码，为对应的从机及多路选择器提供选择信号，选中对应的从机进行通信</p><ul><li>当主机写入时，根据 HSEL 信号，被选中的从机此时可以读取总线上的数据信号 HWDATA，更新自己的寄存器</li><li>当主机读取时，Slave 产生自己的 HRDATA_x 信号，多路选择器会根据解码器提供的选择信号，选择对应从机的 HRDATA_x 映射到 HRDATA 上</li></ul><p>更多详细内容可以参考官方的数据手册：<a href="https://eecs.umich.edu/courses/eecs373/readings/ARM_IHI0033A_AMBA_AHB-Lite_SPEC.pdf">AMBA 3 AHB-Lite Protocol Specification (umich.edu)</a></p><p> </p><h2 id="fpga"><a class="anchor" href="#fpga">#</a> FPGA</h2><p>看这个博客的应该不需要 FPGA 的介绍，如果不清楚可以去搜一下先补补课，本次项目使用的 FPGA 为安路科技的 EG4S20BG256，它的主要资源如下</p><ul><li>逻辑资源：19600 LUTs</li><li>片内存储资源：<ul><li>64 块 9Kb 嵌入式 RAM (ERAM9K)、16 块 32Kb 嵌入式 RAM</li><li>64Mb 内置 SDRAM（2M*32bits）</li><li>最大 156.8Kb 分布式 RAM</li></ul></li><li>时钟资源<ul><li>16 个全局时钟</li><li>4 个 PLL</li></ul></li></ul><p>本次做视频图像显示，主要考虑存储、时钟和布线资源</p><p>首先是存储，这个芯片内置了一块 SDRAM 就方便了许多，要想缓存一帧 1080P 图像至少需要 16Mbits（2MB）的空间，而要想增加乒乓操作则需要再加一倍，如果没有的话可能就外挂一块 SDRAM</p><p>时钟上 HDMI 1080P@60Hz 需要 148.5MHz 的像素时钟和 742.5MHz 的像素时钟 x5，因此需要满足可输出的最大时钟要不小于 742.5MHz，这个芯片的 PLL 最大可输出 750MHz，因此也满足</p><p>此外这个芯片支持最高 800Mbps 的 True LVDS，选择特定的引脚在布线时会自动生成 LVDS 通道，相比于之前用 Xilinx 的 FPGA 做 HDMI 输出使用原语实现 LVDS 就少了一步，还挺方便的，并且也满足 HDMI 1080P@60Hz 的要求</p><p> </p><h2 id="isp"><a class="anchor" href="#isp">#</a> ISP</h2><p>ISP, Image Signal Process，即图像信号处理，目前有很多成熟的 ISP 算法，比如色域转换、去噪、白平衡、gamma 矫正、滤波等处理，最常见的应用就是相机</p><h1 id="arm软核移植"><a class="anchor" href="#arm软核移植">#</a> ARM 软核移植</h1><p>首先是软核移植</p><h1 id="isp算法设计"><a class="anchor" href="#isp算法设计">#</a> ISP 算法设计</h1><p>这些算法目前使用高级语言可以很轻松的实现，但是在 FPGA 上部署需要复杂一些，主要问题是缓存和时序，比如对很多算法来说需要进行算子运算，而算子运算则需要，对原有的图像数据</p><h1 id="上位机设计"><a class="anchor" href="#上位机设计">#</a> 上位机设计</h1>]]></content>
      
      
      <categories>
          
          <category> SoC </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Linux学习】RPM包管理</title>
      <link href="/2024/07/23/Linux/05RPM%E5%8C%85%E7%AE%A1%E7%90%86/"/>
      <url>/2024/07/23/Linux/05RPM%E5%8C%85%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="软件包简介"><a class="anchor" href="#软件包简介">#</a> 软件包简介</h1><h2 id="源码包"><a class="anchor" href="#源码包">#</a> 源码包</h2><blockquote><p>时间长，需要编译</p></blockquote><ul><li><p>脚本安装包</p></li><li><p>优点</p><ul><li><p>开源</p></li><li><p>可以自由选择所需的功能</p></li><li><p>编译安装，所以更加适合自己的系统、稳定、效率高</p></li><li><p>卸载方便</p></li></ul></li></ul><h2 id="二进制包"><a class="anchor" href="#二进制包">#</a> 二进制包</h2><blockquote><p>时间短，已编译，但是不能看源代码</p></blockquote><ul><li><p>Linux 不同系列最大的区别就是二进制包不同</p></li><li><p>RPM 包：RedHat 系列</p></li><li><p>系统默认包</p></li></ul><p> </p><hr /><p> </p><h1 id="rpm命令管理"><a class="anchor" href="#rpm命令管理">#</a> RPM 命令管理</h1><h2 id="rpm"><a class="anchor" href="#rpm">#</a> rpm</h2><blockquote><p>压缩文件至  .gz  格式（不能压缩目录）</p></blockquote><p>原意：</p><ul><li><strong>R</strong>PM <strong>P</strong>ackage <strong>M</strong>anager</li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">rpm</span> <span class="token punctuation">[</span>-ivh<span class="token punctuation">]</span> 包全名</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-i：安装</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">install</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>-U：升级</pre></td></tr><tr><td data-num="7"></td><td><pre>Upgrade</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>-e：卸载</pre></td></tr><tr><td data-num="10"></td><td><pre>erase</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>-v：显示详细信息</pre></td></tr><tr><td data-num="13"></td><td><pre>verbose</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>-h：显示进度</pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token builtin class-name">hash</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>-q：查询</pre></td></tr><tr><td data-num="19"></td><td><pre>query</pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>- -i：查询安装信息</pre></td></tr><tr><td data-num="22"></td><td><pre>  information</pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>- -f：查询系统文件属于哪个软件包</pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token function">file</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>- -R：查询软件包的依赖性</pre></td></tr><tr><td data-num="28"></td><td><pre>  requires</pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>- -p：查询未安装包信息</pre></td></tr><tr><td data-num="31"></td><td><pre>  package</pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>-V：检验指定RPM包中的文件</pre></td></tr><tr><td data-num="34"></td><td><pre>Verify</pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre>-a：所有</pre></td></tr><tr><td data-num="37"></td><td><pre>all</pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre>--nodeps：不检测依赖性</pre></td></tr><tr><td data-num="40"></td><td><pre>no depends</pre></td></tr></table></figure><p> </p><h2 id="rpm包命名规则"><a class="anchor" href="#rpm包命名规则">#</a> RPM 包命名规则</h2><p><code>httpd-2.2.15-15.el6.centos.l.i686.rpm</code></p><ul><li><p><strong>httpd</strong>：软件包名</p></li><li><p><strong>2.2.15</strong>：软件版本</p></li><li><p><strong>15</strong>：软件发布的次数</p></li><li><p><strong>el6.centos</strong>：适合的 Linux 平台</p></li><li><p><strong>i686</strong>：适合的硬件平台</p></li><li><p><strong>rpm</strong>：rpm 包扩展名</p></li></ul><p> </p><h2 id="rpm包依赖性"><a class="anchor" href="#rpm包依赖性">#</a> RPM 包依赖性</h2><blockquote><p><a href="http://www.rpmfind.net/">模块依赖查询网站</a></p></blockquote><ul><li><p>树形依赖：a-&gt;b-&gt;c</p></li><li><p>环形依赖：a-&gt;b-&gt;c-&gt;a</p></li></ul><p> </p><h2 id="安装-升级和卸载"><a class="anchor" href="#安装-升级和卸载">#</a> 安装、升级和卸载</h2><ul><li><p>包全名：操作的包是没有安装的包，且要注意路径</p></li><li><p>包名：操作的包是已经安装的软件包，使用包名</p></li><li><p>安装卸载都应该按依赖结构</p><blockquote><p>rpm -e 只会卸载当前包，不会卸载依赖包</p></blockquote></li></ul><p> </p><h2 id="查询"><a class="anchor" href="#查询">#</a> 查询</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">rpm</span> <span class="token parameter variable">-q</span> <span class="token punctuation">[</span> 包名 / 包全名 <span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="校验和文件提取"><a class="anchor" href="#校验和文件提取">#</a> 校验和文件提取</h2><blockquote><p><code>rpm -V [ 包名 ]</code></p></blockquote><ul><li><p>验证内容中的 8 个信息</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>S：文件大小是否改变</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>M：文件的类型或文件的权限（rwx）是否被修改</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">5</span>：文件的MD5校验和是否改变</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>D：设备</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>L：文件路径是否改变</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>U：文件的属主（所有者）是否变化</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>T：文件的修改时间是否变化</pre></td></tr></table></figure></li><li><p>文件类型</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>c：配置文件</pre></td></tr><tr><td data-num="2"></td><td><pre>config <span class="token function">file</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>d：普通文件</pre></td></tr><tr><td data-num="5"></td><td><pre>documentation</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>g：“鬼”文件</pre></td></tr><tr><td data-num="8"></td><td><pre>ghost file，很少见，就是这个文件不该被这个RPM包含</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>l：授权文件</pre></td></tr><tr><td data-num="11"></td><td><pre>license <span class="token function">file</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>r：描述文件</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token builtin class-name">read</span> me</pre></td></tr></table></figure></li></ul><p> </p><h2 id="rpm包中文件提取"><a class="anchor" href="#rpm包中文件提取">#</a> RPM 包中文件提取</h2><h3 id="rpm2cpio"><a class="anchor" href="#rpm2cpio">#</a> rpm2cpio</h3><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>rpm2cpio 包全名 <span class="token operator">|</span> cpio <span class="token parameter variable">-idv</span> ./文件绝对路径</pre></td></tr></table></figure><p> </p><h3 id="cpio"><a class="anchor" href="#cpio">#</a> cpio</h3><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>cpio <span class="token punctuation">[</span>-idv<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token punctuation">[</span>文件<span class="token operator">|</span>设备<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-i：copy-in模式，还原</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>-d：还原时自动新建目录</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>-v：显示还原过程</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="yum在线管理"><a class="anchor" href="#yum在线管理">#</a> yum 在线管理</h1><h2 id="ip地址配置和网络yum源"><a class="anchor" href="#ip地址配置和网络yum源">#</a> IP 地址配置和网络 yum 源</h2><h3 id="ip地址配置方法"><a class="anchor" href="#ip地址配置方法">#</a> IP 地址配置方法</h3><ul><li><p>直接修改 <code>/etc/sysconfig/network-scipts/ifcfg-ens33</code></p></li><li><p><code>setup</code> （CentOS6）</p></li><li><p><code>nmtui</code> （CentOS7）</p></li></ul><p> </p><h3 id="网络yum源"><a class="anchor" href="#网络yum源">#</a> 网络 yum 源</h3><p><code>/etc/yum.repos.d/CentOS-Base.repo</code></p><ul><li><p><strong>[base]</strong>：容器名称<br />一定要放在 [] 中</p></li><li><p><strong>name</strong>：容器说明<br />可以自己随便写</p></li><li><p><strong>mirror</strong>：镜像站点<br />这个可以注释掉</p></li><li><p><strong>baseurl</strong>：yum 源服务器的地址<br />默认是 CentOS 的官方的 yum 源服务器，是可以使用的，如果慢可换成其他 yum 源地址</p></li><li><p><strong>enabled</strong>：此容器是否生效<br /> enable=1：生效；enable=0：不生效；不写默认生效</p></li><li><p><strong>gpgcheck</strong>：RPM 的数字证书是否生效<br /> gpgcheck=1：生效；gpgcheck=0：不生效</p></li><li><p><strong>gpgkey</strong>：数字证书的公钥文件保存位置<br />不用修改</p></li></ul><p> </p><h2 id="yum命令"><a class="anchor" href="#yum命令">#</a> yum 命令</h2><h3 id="查询-2"><a class="anchor" href="#查询-2">#</a> 查询</h3><p>查询所有可用软件包列表</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>yum list</pre></td></tr></table></figure><p>搜索服务器上所有和关键字相关的包</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>yum search 关键字</pre></td></tr></table></figure><h3 id="下载"><a class="anchor" href="#下载">#</a> 下载</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> 包名</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">(</span>-y 自动回答yes<span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="升级"><a class="anchor" href="#升级">#</a> 升级</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>yum <span class="token parameter variable">-y</span> update 包名</pre></td></tr></table></figure><p>⚠️⚠️⚠️<em><strong>不加包名会升级 Linux 所有软件包，包括内核！⚠️</strong></em>⚠️⚠️</p><h3 id="yum软件组管理"><a class="anchor" href="#yum软件组管理">#</a> yum 软件组管理</h3><p>列出所有可用的软件组列表</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>yum grouplist</pre></td></tr></table></figure><p>安装指定软件组，组名可以由 grouplist 查询出来</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>yum groupinstall 软件组名</pre></td></tr></table></figure><p>卸载指定软件组</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>yum groupremove 软件组名</pre></td></tr></table></figure><p> </p><h2 id="光盘yum源搭建"><a class="anchor" href="#光盘yum源搭建">#</a> 光盘 yum 源搭建</h2><ol><li><p>挂载光盘</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">mount</span> /dev/cdrom/ mnt/cdrom</pre></td></tr></table></figure></li><li><p>让网络 yum 源文件失效</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /etc/yum.repos.d/</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">mv</span> CentOS-Base.repo CentOS-Base.repo.bak <span class="token comment"># 改名使这些文件失效</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">mv</span> CentOS-Debuginfo.repo CentOS-Debuginfo.repo.bak</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">mv</span> CentOS-Vault.repo CentOS-Vault.repo.bak</pre></td></tr></table></figure></li><li><p>修改光盘 yum 源文件</p><ol><li>修改光盘挂载点，/media/CentOS -&gt; baseurl 为默认挂载点，/mnt/cdrom 为自己设置的光盘挂载点</li></ol><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">vim</span>  CentOS-Media.repo</pre></td></tr><tr><td data-num="2"></td><td><pre>baseurl <span class="token operator">=</span> file:///media/CentOS <span class="token operator">=</span><span class="token operator">></span> baseurl <span class="token operator">=</span> file:///mnt/cdrom</pre></td></tr></table></figure><ol start="2"><li><p>其余挂载点注释，否则会报错</p></li><li><p>使能： <code>enable = 0</code>  =&gt; `enable=1``</p></li><li><p>验证： <code>yum list</code></p></li></ol></li></ol><p> </p><hr /><p> </p><h1 id="源码包管理"><a class="anchor" href="#源码包管理">#</a> 源码包管理</h1><h2 id="源码包和rpm包的区别"><a class="anchor" href="#源码包和rpm包的区别">#</a> 源码包和 RPM 包的区别</h2><blockquote><p>概念区别（安装之前的区别）、安装位置（安装之后的区别）</p></blockquote><h3 id="rpm包安装位置"><a class="anchor" href="#rpm包安装位置">#</a> RPM 包安装位置</h3><ul><li><code>/etc/</code> ：配置文件安装目录</li><li><code>/usr/bin/</code> ：可执行的命令安装目录</li><li><code>/usr/lib/</code> ：程序所使用的函数库保存位置</li><li><code>/usr/share/doc</code> ：基本的软件使用手册保存位置</li><li><code>/usr/share/man/</code> ：帮助文件保存位置</li></ul><h3 id="源码包安装位置"><a class="anchor" href="#源码包安装位置">#</a> 源码包安装位置</h3><p><code>/usr/local/软件名/</code> ：Linux 给外部软件分配的安装位置</p><h3 id="安装位置不同带来的影响"><a class="anchor" href="#安装位置不同带来的影响">#</a> 安装位置不同带来的影响</h3><p><strong>RPM 包</strong>：RPM 包安装的服务可以使用系统服务管理命令 (service) 来管理</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>systemctl start httpd</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 启动 apache 后没有现象，关闭防火墙 systemctl stop firewalld</span></pre></td></tr></table></figure><p><strong>源码包</strong>：不能被系统服务管理命令管理，因为没有安装到默认路径，只能使用绝对路径管理</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>/usr/local/apache2/bin/apachectl start</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="脚本安装包"><a class="anchor" href="#脚本安装包">#</a> 脚本安装包</h1><h2 id="安装"><a class="anchor" href="#安装">#</a> 安装</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> webmin-1.900</pre></td></tr><tr><td data-num="2"></td><td><pre>./setup.sh</pre></td></tr><tr><td data-num="3"></td><td><pre>选项选择</pre></td></tr></table></figure><h2 id="其他"><a class="anchor" href="#其他">#</a> 其他</h2><p>查询文件夹大小</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">du</span> <span class="token parameter variable">-sh</span> 文件夹</pre></td></tr></table></figure><p>防火墙开放固定端口</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 开放端口，--permanent 表示永久生效</span></pre></td></tr><tr><td data-num="2"></td><td><pre>firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token punctuation">[</span>端口号<span class="token punctuation">]</span>/tcp <span class="token parameter variable">--permanent</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 重启防火墙服务后生效</span></pre></td></tr><tr><td data-num="5"></td><td><pre>systemctl restart firewalld</pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Linux学习】Vim使用</title>
      <link href="/2024/07/23/Linux/04Vim%E4%BD%BF%E7%94%A8/"/>
      <url>/2024/07/23/Linux/04Vim%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="常用命令"><a class="anchor" href="#常用命令">#</a> 常用命令</h1><h2 id="插入命令"><a class="anchor" href="#插入命令">#</a> 插入命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>a：在光标所在字符后插入</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>i：在光标所在字符前插入</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>A：在光标所在行行尾插入</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>I：在光标所在行行首插入</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>o：在光标下插入新行</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>O：在光标上插入新行</pre></td></tr></table></figure><p> </p><h2 id="定位命令"><a class="anchor" href="#定位命令">#</a> 定位命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>:set nu：设置行号</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>:set nonu：取消行号</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>gg：到第一行</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>G：到最后一个行</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>:n：到第n行</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token number">0</span>：移至行首</pre></td></tr></table></figure><p> </p><h2 id="删除命令"><a class="anchor" href="#删除命令">#</a> 删除命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>x：删除光标所在处的字符</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>nx：删除光标所在处的后n个字符</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>dd：删除光标所在行，ndd删除n行</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>dG：删除光标所在行到文末的内容</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>D：删除光标所在处到行尾的内容</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>:n1,n2d：删除指定范围的行</pre></td></tr></table></figure><p> </p><h2 id="复制和剪切命令"><a class="anchor" href="#复制和剪切命令">#</a> 复制和剪切命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>yy：复制当前行</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>nyy：复制当前行以下的n行</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>dd：剪切当前行</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>ndd：剪切当前行以下n行</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>p、P：粘贴在当前光标所在行下或行上</pre></td></tr></table></figure><p> </p><h2 id="替换和取消命令"><a class="anchor" href="#替换和取消命令">#</a> 替换和取消命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>r：取代光标所在处字符</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>R：从光标所在处开始替换字符，按Esc结束</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>u：取消上一步操作</pre></td></tr></table></figure><p> </p><h2 id="搜索和搜索替换命令"><a class="anchor" href="#搜索和搜索替换命令">#</a> 搜索和搜索替换命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>/string：搜索指定字符串</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>- :set ic：搜索时忽略大小写</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>- n：搜索指定字符串出现的下一个位置</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>:%s/old/new/g：全文替换指定字符串</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>:n1,n2s/old/new/g：在一定范围内替换指定字符串</pre></td></tr></table></figure><p> </p><h2 id="保存和退出命令"><a class="anchor" href="#保存和退出命令">#</a> 保存和退出命令</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>:w：保存修改</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>:w new_filename：另存为指定文件</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>:wq：保存修改并退出</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>ZZ：保存修改并退出</pre></td></tr><tr><td data-num="8"></td><td><pre>快捷键</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>:q<span class="token operator">!</span>：不保存修改强制退出</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>:wq<span class="token operator">!</span>：保存修改并强制退出</pre></td></tr><tr><td data-num="13"></td><td><pre>文件所有者及root可使用，可对不可写文件强制保存</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="使用技巧"><a class="anchor" href="#使用技巧">#</a> 使用技巧</h1><h2 id="r"><a class="anchor" href="#r">#</a> :r</h2><ul><li>文件名：导入文件内容</li><li>! 命令：导入命令执行结果</li></ul><p> </p><h2 id="map"><a class="anchor" href="#map">#</a> :map</h2><blockquote><p>定义快捷键</p></blockquote><p>语法</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>:map 快捷键 触发命令</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>:map ^P I<span class="token comment">#&lt;ESC></span></pre></td></tr><tr><td data-num="4"></td><td><pre>定义快捷键Ctrl+P，在行首添加 <span class="token comment"># 并退回命令模式</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>:map ^B 0x</pre></td></tr><tr><td data-num="7"></td><td><pre>定义快捷键Ctrl+B，删除行首字母</pre></td></tr></table></figure><p> </p><h2 id="连续行注释"><a class="anchor" href="#连续行注释">#</a> 连续行注释</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>:n1,n2s/^/<span class="token comment">#/g</span></pre></td></tr><tr><td data-num="2"></td><td><pre>将n1到n2行首加入<span class="token comment">#</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>:n1,n2s/^<span class="token comment">#//g</span></pre></td></tr><tr><td data-num="5"></td><td><pre>将n1到n2行首 <span class="token comment"># 号替换为空</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>:n1,n2s/^/ <span class="token punctuation">\</span> / <span class="token punctuation">\</span> / /g</pre></td></tr><tr><td data-num="8"></td><td><pre>将n1到n2行首加入//，文本中出现 / 时前面要加 <span class="token punctuation">\</span> 转义</pre></td></tr></table></figure><p> </p><h2 id="自动替换"><a class="anchor" href="#自动替换">#</a> 自动替换</h2><p>语法</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>:ab <span class="token punctuation">[</span>old<span class="token punctuation">]</span> <span class="token punctuation">[</span>new<span class="token punctuation">]</span>：</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="永久存储设置"><a class="anchor" href="#永久存储设置">#</a> 永久存储设置</h1><h2 id="vimrc"><a class="anchor" href="#vimrc">#</a> .vimrc</h2><blockquote><p>配置文件</p></blockquote><p>给 root 设置就放在 /root 下，其他用户就放在用户目录下</p><p>注意：配置文件里不需要写  <code>:</code></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Linux学习】命令（三）：帮助、用户管理、压缩解压、网络命令</title>
      <link href="/2024/07/23/Linux/03%E5%B8%AE%E5%8A%A9%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%8E%8B%E7%BC%A9%E7%BD%91%E7%BB%9C/"/>
      <url>/2024/07/23/Linux/03%E5%B8%AE%E5%8A%A9%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%8E%8B%E7%BC%A9%E7%BD%91%E7%BB%9C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="帮助命令"><a class="anchor" href="#帮助命令">#</a> 帮助命令</h1><h2 id="man"><a class="anchor" href="#man">#</a> man</h2><blockquote><p>获得帮助信息</p></blockquote><p>原意：</p><ul><li><strong>man</strong>ual</li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">man</span> <span class="token punctuation">[</span>命令或配置文件<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>查看配置文件时不需要加上绝对路径</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">1</span>：命令的帮助</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">5</span>：配置文件的帮助</pre></td></tr></table></figure><p> </p><h2 id="whatis"><a class="anchor" href="#whatis">#</a> whatis</h2><blockquote><p>显示命令的简要描述</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>whatis <span class="token punctuation">[</span>命令<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="apropos"><a class="anchor" href="#apropos">#</a> apropos</h2><blockquote><p>显示<strong>配置</strong>的简要描述</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">apropos</span> <span class="token punctuation">[</span>配置文件<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="info"><a class="anchor" href="#info">#</a> info</h2><blockquote><p>读取 info 信息</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>info <span class="token punctuation">[</span>命令或配置文件<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="help"><a class="anchor" href="#help">#</a> help</h2><blockquote><p>获得 Shell 内置命令的帮助信息</p></blockquote><p>命令所在路径：</p><ul><li><p><strong>Shell 内置命令</strong></p><blockquote><p>使用 which 或其他查找命令找不到信息 的命令即为 Shell 内置命令</p></blockquote></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">help</span> <span class="token punctuation">[</span>命令<span class="token punctuation">]</span></pre></td></tr></table></figure><p><strong>--help</strong>（非命令）</p><p>语法： <code>[命令] --help</code></p><p> </p><hr /><p> </p><h1 id="用户管理命令"><a class="anchor" href="#用户管理命令">#</a> 用户管理命令</h1><h2 id="useradd"><a class="anchor" href="#useradd">#</a> useradd</h2><blockquote><p>添加新用户</p></blockquote><p>命令所在路径：</p><ul><li><strong>/usr/sbin/useradd</strong></li></ul><p>执行权限：</p><ul><li><strong>root</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">useradd</span> <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="passwd"><a class="anchor" href="#passwd">#</a> passwd</h2><blockquote><p>设置用户密码</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">passwd</span> <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="who"><a class="anchor" href="#who">#</a> who</h2><blockquote><p>查看用户登录信息</p></blockquote><p>命令所在路径：</p><ul><li><strong>/usr/bin/who</strong></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">who</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>tty一般表示本地终端</pre></td></tr></table></figure><p> </p><h2 id="w"><a class="anchor" href="#w">#</a> w</h2><blockquote><p>查看登录用户详细信息</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>w</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="压缩解压命令"><a class="anchor" href="#压缩解压命令">#</a> 压缩解压命令</h1><h2 id="gzip"><a class="anchor" href="#gzip">#</a> gzip</h2><blockquote><p>压缩文件至  .gz  格式（不能压缩目录）</p></blockquote><p>原意：</p><ul><li><strong>G</strong>UN <strong>zip</strong></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">gzip</span> <span class="token punctuation">[</span>文件<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="gunzip"><a class="anchor" href="#gunzip">#</a> gunzip</h2><blockquote><p>解压缩  .gz  的压缩文件</p></blockquote><p>原意：</p><ul><li><strong>G</strong>UN <strong>unzip</strong></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>gunzip <span class="token punctuation">[</span>.gz压缩文件<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>只能压缩文件，不能压缩目录</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>压缩后不保留原文件</pre></td></tr></table></figure><p> </p><h2 id="zip"><a class="anchor" href="#zip">#</a> zip</h2><blockquote><p>压缩文件或目录至  .zip  格式</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">zip</span> <span class="token punctuation">[</span>-r<span class="token punctuation">]</span> <span class="token punctuation">[</span>压缩后文件名<span class="token punctuation">]</span> <span class="token punctuation">[</span>文件或目录<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-r：压缩目录</pre></td></tr></table></figure><p> </p><h2 id="unzip"><a class="anchor" href="#unzip">#</a> unzip</h2><blockquote><p>解压  .zip  的压缩文件</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">unzip</span> <span class="token punctuation">[</span>压缩文件<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="bzip2"><a class="anchor" href="#bzip2">#</a> bzip2</h2><blockquote><p>压缩文件或目录至  .bz2  格式</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法： <code>c</code></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">bzip2</span> <span class="token punctuation">[</span>-k<span class="token punctuation">]</span> <span class="token punctuation">[</span>压缩后文件名<span class="token punctuation">]</span> <span class="token punctuation">[</span>文件或目录<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-k：产生压缩文件后保留原文件</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">tar</span> <span class="token parameter variable">-jcf</span> test.tar.gz <span class="token builtin class-name">test</span></pre></td></tr></table></figure><p> </p><h2 id="bunzip2"><a class="anchor" href="#bunzip2">#</a> bunzip2</h2><blockquote><p>解压缩</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法： <code>c</code></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>bunzip2 <span class="token punctuation">[</span>-k<span class="token punctuation">]</span> <span class="token punctuation">[</span>压缩文件<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-k：压缩后保留原文件</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">tar</span> <span class="token parameter variable">-jxf</span> test.tar.gz</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="网络命令"><a class="anchor" href="#网络命令">#</a> 网络命令</h1><h2 id="write"><a class="anchor" href="#write">#</a> write</h2><blockquote><p>给用户发信息，以 Ctrl+D 结束</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">write</span> <span class="token operator">&lt;</span>用户名<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>结束：Ctrl+D，Ctrl+<span class="token punctuation">\</span></pre></td></tr></table></figure><p> </p><h2 id="wall"><a class="anchor" href="#wall">#</a> wall</h2><blockquote><p>发广播信息</p></blockquote><p>原意：</p><ul><li><strong>w</strong>rite <strong>all</strong></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>wall <span class="token punctuation">[</span>message<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="ifconfig"><a class="anchor" href="#ifconfig">#</a> ifconfig</h2><blockquote><p>查看和设置网卡信息</p></blockquote><p>原意：</p><ul><li><strong>i</strong>nter<strong>f</strong>ace <strong>config</strong>ure</li></ul><p>执行权限：</p><ul><li><strong>root</strong></li></ul><p>语法： <code>c</code></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">ifconfig</span> <span class="token punctuation">[</span>网卡名称<span class="token punctuation">]</span> <span class="token punctuation">[</span>IP地址<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>设置临时生效，重启会重置</pre></td></tr></table></figure><p> </p><h2 id="mail"><a class="anchor" href="#mail">#</a> mail</h2><blockquote><p>查看发送邮件</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mail <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>操作界面</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>- 帮助信息：help</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>- 查看邮件：输入邮件序列号</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>- 查看邮箱列表：h</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>- 删除邮件：d ID号</pre></td></tr></table></figure><p> </p><h2 id="last"><a class="anchor" href="#last">#</a> last</h2><blockquote><p>列出目前与过去登入系统的用户信息</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>last</pre></td></tr></table></figure><p> </p><h2 id="lastlog"><a class="anchor" href="#lastlog">#</a> lastlog</h2><blockquote><p>所有用户最后的登录信息</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>lastlog <span class="token punctuation">[</span>-u<span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token environment constant">UID</span><span class="token operator">></span> </pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-u：查看某一用户信息</pre></td></tr></table></figure><p> </p><h2 id="traceroute"><a class="anchor" href="#traceroute">#</a> traceroute</h2><blockquote><p>显示数据包到主机间的路径</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">traceroute</span></pre></td></tr></table></figure><p> </p><h2 id="netstat"><a class="anchor" href="#netstat">#</a> netstat</h2><blockquote><p>显示网络相关信息</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">netstat</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-t：TCP协议</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>-u：UDP协议</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>-l：监听</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>-r：路由</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>-n：显示IP地址和端口号</pre></td></tr></table></figure><p> </p><h2 id="setup"><a class="anchor" href="#setup">#</a> setup</h2><blockquote><p>配置网络</p></blockquote><p>执行权限：</p><ul><li><strong>root</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>setup</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>红帽系列限定</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>与ifconfig不同，设置会永久生效</pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Linux学习】命令（二）：文件权限管理、查找命令</title>
      <link href="/2024/07/23/Linux/02%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%92%8C%E6%9F%A5%E6%89%BE%E5%91%BD%E4%BB%A4/"/>
      <url>/2024/07/23/Linux/02%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%92%8C%E6%9F%A5%E6%89%BE%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="权限管理"><a class="anchor" href="#权限管理">#</a> 权限管理</h1><h2 id="文件目录权限"><a class="anchor" href="#文件目录权限">#</a> 文件目录权限</h2><p>目录</p><ul><li><p>r：可以列出目录中的内容</p></li><li><p>w：可以在目录中创建文件、删除文件</p></li><li><p>x：可以进入目录</p></li></ul><p>文件</p><ul><li><p>r：可以查看文件内容</p></li><li><p>w：可以修改文件内容</p></li><li><p>x：可以执行文件</p></li></ul><p> </p><h2 id="chmod"><a class="anchor" href="#chmod">#</a> chmod</h2><blockquote><p>改变文件或目录的权限</p></blockquote><p>原意：</p><ul><li><strong>ch</strong>ange the permissions <strong>mod</strong>e of a file</li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">chmod</span> <span class="token punctuation">[</span> <span class="token punctuation">&#123;</span> ugoa <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span> +-<span class="token operator">=</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span> rwx <span class="token punctuation">&#125;</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> 文件或目录 <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">chmod</span> <span class="token punctuation">[</span> <span class="token punctuation">&#123;</span> mode <span class="token operator">=</span> <span class="token number">421</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> 文件或目录 <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>-R：递归修改</pre></td></tr></table></figure><p> </p><h2 id="chown"><a class="anchor" href="#chown">#</a> chown</h2><blockquote><p>改变文件或目录的所有者</p></blockquote><p>原意：</p><ul><li><strong>ch</strong>ange file <strong>own</strong>ership</li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">chown</span> <span class="token punctuation">[</span>用户<span class="token punctuation">]</span><span class="token punctuation">[</span>文件或目录<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="chgrp"><a class="anchor" href="#chgrp">#</a> chgrp</h2><blockquote><p>改变文件或目录的所属组</p></blockquote><p>原意：</p><ul><li><strong>ch</strong>ange file <strong>gr</strong>ou<strong>p</strong> ownership</li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">chgrp</span> <span class="token punctuation">[</span>用户组<span class="token punctuation">]</span><span class="token punctuation">[</span>文件或目录<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="umask"><a class="anchor" href="#umask">#</a> umask</h2><blockquote><p>显示、设置文件的缺省权限</p></blockquote><p>原意：</p><ul><li>the <strong>u</strong>ser file-creation <strong>mask</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">umask</span> <span class="token punctuation">[</span>-S<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-S：以rwx形式显示新建文件缺省权限</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>未加选项显示的字符以异或方式加密</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="文件搜索"><a class="anchor" href="#文件搜索">#</a> 文件搜索</h1><h2 id="find"><a class="anchor" href="#find">#</a> find</h2><blockquote><p>文件搜索</p></blockquote><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">find</span> <span class="token punctuation">[</span>搜索范围<span class="token punctuation">]</span> <span class="token punctuation">[</span>匹配条件<span class="token punctuation">]</span> <span class="token punctuation">[</span> -a/-o <span class="token punctuation">]</span> <span class="token punctuation">[</span>匹配条件<span class="token punctuation">]</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span></pre></td></tr></table></figure><h3 id="匹配条件连接"><a class="anchor" href="#匹配条件连接">#</a> 匹配条件连接</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>-a：and，与</pre></td></tr><tr><td data-num="2"></td><td><pre>-o：or，或</pre></td></tr></table></figure><h3 id="搜索时执行操作"><a class="anchor" href="#搜索时执行操作">#</a> 搜索时执行操作</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token parameter variable">-exec</span> 命令 <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">find</span> /etc <span class="token parameter variable">-name</span> init* <span class="token parameter variable">-a</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-exec</span> <span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">\</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="3"></td><td><pre>在/etc下查找以init开头的文件并显示文件详细信息</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token parameter variable">-ok</span> 命令 <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">find</span> /etc <span class="token parameter variable">-name</span> init* <span class="token parameter variable">-a</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-ok</span> <span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">\</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="7"></td><td><pre>在/etc下查找以init开头的文件并显示文件详细信息，每个文件都进行询问</pre></td></tr></table></figure><h3 id="按名称查找"><a class="anchor" href="#按名称查找">#</a> 按名称查找</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>-name：</pre></td></tr><tr><td data-num="2"></td><td><pre>- <span class="token function">find</span> /etc <span class="token parameter variable">-name</span> init</pre></td></tr><tr><td data-num="3"></td><td><pre>  搜索名为init的文件</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>- <span class="token function">find</span> /etc <span class="token parameter variable">-name</span> *init*</pre></td></tr><tr><td data-num="6"></td><td><pre>  搜索名称中含有init字符的文件</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>- <span class="token function">find</span> /etc <span class="token parameter variable">-name</span> init*</pre></td></tr><tr><td data-num="9"></td><td><pre>  搜索名称以init开头的文件</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>- <span class="token function">find</span> /etc <span class="token parameter variable">-name</span> init???</pre></td></tr><tr><td data-num="12"></td><td><pre>  ?代表未知字符</pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>-iname：不区分大小写，其他同 <span class="token parameter variable">-name</span></pre></td></tr></table></figure><h3 id="按大小查找"><a class="anchor" href="#按大小查找">#</a> 按大小查找</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token parameter variable">-size</span> <span class="token punctuation">[</span>n<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre> 数据块：1数据块 <span class="token operator">=</span> <span class="token number">512</span> Bytes <span class="token operator">=</span> <span class="token number">0.5</span> k</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">find</span> /etc <span class="token parameter variable">-size</span> +204800</pre></td></tr><tr><td data-num="5"></td><td><pre>查找大于204800数据块的文件</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">find</span> /etc <span class="token parameter variable">-size</span> <span class="token parameter variable">-204800</span></pre></td></tr><tr><td data-num="8"></td><td><pre>查找小于204800数据块的文件</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token function">find</span> /etc <span class="token parameter variable">-size</span> <span class="token number">204800</span></pre></td></tr><tr><td data-num="11"></td><td><pre>查找等于204800数据块的文件</pre></td></tr></table></figure><h3 id="按用户查找"><a class="anchor" href="#按用户查找">#</a> 按用户查找</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>-user：按所有者查找</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-group：按所属组查找</pre></td></tr></table></figure><h3 id="按时间查找"><a class="anchor" href="#按时间查找">#</a> 按时间查找</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">find</span> /etc <span class="token parameter variable">-cmin</span> <span class="token parameter variable">-5</span></pre></td></tr><tr><td data-num="2"></td><td><pre>在/etc目录下查找进5分钟内被修改过属性的文件和目录</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token parameter variable">-amin</span> <span class="token punctuation">[</span>+-min<span class="token punctuation">]</span>：访问时间<span class="token punctuation">(</span>acess<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token parameter variable">-cmin</span> <span class="token punctuation">[</span>+-min<span class="token punctuation">]</span>：文件属性<span class="token punctuation">(</span>change<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token parameter variable">-mmin</span> <span class="token punctuation">[</span>+-min<span class="token punctuation">]</span>：文件内容<span class="token punctuation">(</span>modify<span class="token punctuation">)</span></pre></td></tr></table></figure><h3 id="按文件类型查找"><a class="anchor" href="#按文件类型查找">#</a> 按文件类型查找</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token parameter variable">-type</span> <span class="token punctuation">[</span>文件类型<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>- f：文件</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>- d：目录</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>- l：链接文件</pre></td></tr></table></figure><h3 id="按i节点查找"><a class="anchor" href="#按i节点查找">#</a> 按 i 节点查找：</h3><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token parameter variable">-inum</span></pre></td></tr></table></figure><p> </p><h2 id="locate"><a class="anchor" href="#locate">#</a> locate</h2><blockquote><p>在文件资料库中查找文件</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">locate</span> <span class="token punctuation">[</span>文件名<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">locate</span> <span class="token parameter variable">-i</span> <span class="token punctuation">[</span>文件名<span class="token punctuation">]</span>：不区分大小写</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>只能查找在文件资料库中有记录的文件</pre></td></tr></table></figure><p><code>updatedb</code> ：资料库更新命令<br /><em>即使更新了命令也不一定能找到，如 /tmp，用于存放临时文件</em></p><p> </p><h2 id="which"><a class="anchor" href="#which">#</a> which</h2><blockquote><p>搜索命令所在目录及别名信息</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">which</span> 命令</pre></td></tr></table></figure><p> </p><h2 id="whereis"><a class="anchor" href="#whereis">#</a> whereis</h2><blockquote><p>搜索命令所在目录及帮助文档路径</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">whereis</span> <span class="token punctuation">[</span>命令<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="grep"><a class="anchor" href="#grep">#</a> grep</h2><blockquote><p>在文件中搜寻字符串匹配的行并输出</p></blockquote><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">grep</span> <span class="token parameter variable">-iv</span> <span class="token punctuation">[</span> 指定字符串 <span class="token punctuation">]</span><span class="token punctuation">[</span> 文件 <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-i：不区分大小写</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>-n：输出行号</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>-v：排除指定字符串</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token comment"># /etc/inittab</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  排除带 <span class="token comment"># 的文本行</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token function">grep</span> <span class="token parameter variable">-v</span> ^<span class="token comment"># /etc/inittab</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  排除以 <span class="token comment"># 开头的文本行</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token parameter variable">--color</span><span class="token operator">=</span>auto：搜索处来的关键字用颜色显示</pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Linux学习】命令（一）：文件处理命令</title>
      <link href="/2024/07/23/Linux/01%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/"/>
      <url>/2024/07/23/Linux/01%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p><strong>声明：</strong> <em>这个模块的所有文章是我两年前的学习记录，使用的 Linux 系统是 Cent OS，如果要自己使用请尽量查询后再考虑是否使用</em></p></blockquote><h1 id="目录处理命令"><a class="anchor" href="#目录处理命令">#</a> 目录处理命令</h1><h2 id="ls"><a class="anchor" href="#ls">#</a> ls</h2><blockquote><p>显示目录下文件</p></blockquote><p>原意：</p><ul><li><strong>l</strong>i<strong>s</strong>t</li></ul><p>命令所在路径：</p><ul><li><strong>/bin/ls</strong></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>选项：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">ls</span>  选项<span class="token punctuation">[</span>-ald<span class="token punctuation">]</span>  <span class="token punctuation">[</span>文件或目录<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre>-a：显示所有文件，包括隐藏文件</pre></td></tr><tr><td data-num="3"></td><td><pre>-l：详细信息显示</pre></td></tr><tr><td data-num="4"></td><td><pre>-d：查看目录属性</pre></td></tr><tr><td data-num="5"></td><td><pre>-h：人性化显示</pre></td></tr><tr><td data-num="6"></td><td><pre>- 文件属性 — 被调用次数 — 所有者 — 所属组 — 大小 — 最后修改时间</pre></td></tr><tr><td data-num="7"></td><td><pre>  - x — xxx — xxx — xxx</pre></td></tr><tr><td data-num="8"></td><td><pre>  - 文件类型 — 所有者 — 所属组 — 其他人</pre></td></tr><tr><td data-num="9"></td><td><pre>  - -：二进制文件</pre></td></tr><tr><td data-num="10"></td><td><pre>  - d：目录</pre></td></tr><tr><td data-num="11"></td><td><pre>  - l：链接文件</pre></td></tr><tr><td data-num="12"></td><td><pre>  - r：读</pre></td></tr><tr><td data-num="13"></td><td><pre>  - w：写</pre></td></tr><tr><td data-num="14"></td><td><pre>  - x：执行</pre></td></tr><tr><td data-num="15"></td><td><pre>-i：文件ID号</pre></td></tr></table></figure><p> </p><h2 id="mkdir"><a class="anchor" href="#mkdir">#</a> mkdir</h2><blockquote><p>创建新目录</p></blockquote><p>原意：</p><ul><li><strong>m</strong>a<strong>k</strong>e <strong>dir</strong>ectories</li></ul><p>命令所在路径：</p><ul><li><strong>/bin/mkdir</strong></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token punctuation">[</span>目录名<span class="token punctuation">]</span> <span class="token punctuation">[</span>目录名<span class="token punctuation">]</span> <span class="token punctuation">..</span>.</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-p：递归创建（一次性连续创建）</pre></td></tr></table></figure><p> </p><h2 id="cd"><a class="anchor" href="#cd">#</a> cd</h2><blockquote><p>切换目录</p></blockquote><p>原意：</p><ul><li><strong>c</strong>hange <strong>d</strong>irectories</li></ul><p>命令所在路径：</p><ul><li><strong>shell 内置命令</strong></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> <span class="token punctuation">[</span>目录<span class="token punctuation">]</span> </pre></td></tr><tr><td data-num="2"></td><td><pre>.：当前目录</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">..</span>：上一级目录</pre></td></tr></table></figure><p> </p><h2 id="pwd"><a class="anchor" href="#pwd">#</a> pwd</h2><blockquote><p>显示当前所在目录</p></blockquote><p>原意：</p><ul><li><strong>p</strong>rint <strong>w</strong>orking <strong>d</strong>irectories</li></ul><p>命令所在路径：</p><ul><li><strong>/bin/pwd</strong></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">pwd</span></pre></td></tr></table></figure><p> </p><h2 id="rmdir"><a class="anchor" href="#rmdir">#</a> rmdir</h2><blockquote><p>删除空目录</p></blockquote><p>原意：</p><ul><li><strong>r</strong>e<strong>m</strong>ove empty <strong>dir</strong>ectoies</li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">rm</span> <span class="token punctuation">[</span>目录名<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="cp"><a class="anchor" href="#cp">#</a> cp</h2><blockquote><p>复制文件或目录、改名</p></blockquote><p>原意：</p><ul><li><strong>c</strong>o<strong>p</strong>y</li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cp</span> <span class="token parameter variable">-rp</span> <span class="token punctuation">[</span>原文件或目录1<span class="token punctuation">]</span> <span class="token punctuation">[</span>原文件或目录2<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>目标目录<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-r：复制目录</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>-p：保留文件属性</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>复制同时改名：在目标目录后添加   /新名称</pre></td></tr></table></figure><p> </p><h2 id="mv"><a class="anchor" href="#mv">#</a> mv</h2><blockquote><p>剪切文件、改名</p></blockquote><p>原意：</p><ul><li><strong>m</strong>o<strong>v</strong>e</li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">mv</span> <span class="token punctuation">[</span>原文件或目录1<span class="token punctuation">]</span> <span class="token punctuation">[</span>原文件或目录2<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>目标目录<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>不需要加-r，文件或目录无区别</pre></td></tr></table></figure><p> </p><h2 id="rm"><a class="anchor" href="#rm">#</a> rm</h2><blockquote><p>删除文件或目录</p></blockquote><p>原意：</p><ul><li><strong>r</strong>e<strong>m</strong>ove</li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">[</span>文件或目录<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-r：删除目录</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>-f：强制删除</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="文件处理操作"><a class="anchor" href="#文件处理操作">#</a> 文件处理操作</h1><h2 id="touch"><a class="anchor" href="#touch">#</a> touch</h2><blockquote><p>创建空文件</p></blockquote><p>原意：</p><ul><li></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">touch</span> <span class="token punctuation">[</span>文件名1<span class="token punctuation">]</span> <span class="token punctuation">[</span>文件名2<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>文件名避免使用空格，必须要用加<span class="token string">""</span></pre></td></tr></table></figure><p> </p><h2 id="cat"><a class="anchor" href="#cat">#</a> cat</h2><blockquote><p>显示文件内容</p></blockquote><p>原意：</p><ul><li></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cat</span> <span class="token punctuation">[</span>文件名<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-n：显示行号</pre></td></tr></table></figure><p> </p><h2 id="tac"><a class="anchor" href="#tac">#</a> tac</h2><blockquote><p>显示文件内容（反向列示）</p></blockquote><p>原意：</p><ul><li></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">tac</span> <span class="token punctuation">[</span>filename<span class="token punctuation">]</span></pre></td></tr></table></figure><p> </p><h2 id="more"><a class="anchor" href="#more">#</a> more</h2><blockquote><p>分页显示文件内容</p></blockquote><p>原意：</p><ul><li></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">more</span> <span class="token punctuation">[</span>filename<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>翻页：空格 或 f</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>换行：Enter</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>退出：q或Q</pre></td></tr></table></figure><p> </p><h2 id="less"><a class="anchor" href="#less">#</a> less</h2><blockquote><p>分页显示文件内容（可向上翻页）</p></blockquote><p>原意：</p><ul><li></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">less</span> <span class="token punctuation">[</span>文件名<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>翻页：</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>- 向下：空格 或 f 或 PageDown</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>- 向上：PageUp</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>换行：</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>- 向上：<span class="token punctuation">(</span>上箭头<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>- 向下：<span class="token punctuation">(</span>下箭头<span class="token punctuation">)</span> 或 Enter</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>查询：/关键词（n可继续向下查找）</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>退出：q或Q</pre></td></tr></table></figure><p> </p><h2 id="head"><a class="anchor" href="#head">#</a> head</h2><blockquote><p>显示文件前面几行</p></blockquote><p>原意：</p><ul><li></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">head</span> <span class="token punctuation">[</span>文件名<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-n：指定行数（无指定默认10行）</pre></td></tr></table></figure><p> </p><h2 id="tail"><a class="anchor" href="#tail">#</a> tail</h2><blockquote><p>显示文件后面几行</p></blockquote><p>原意：</p><ul><li></li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">tail</span> <span class="token punctuation">[</span>文件名<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>-n：指定行数（无指定默认10行）</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>-f：动态显示文件末尾内容</pre></td></tr></table></figure><p> </p><hr /><p> </p><h1 id="链接命令"><a class="anchor" href="#链接命令">#</a> 链接命令</h1><h2 id="ln"><a class="anchor" href="#ln">#</a> ln</h2><blockquote><p>生成链接文件</p></blockquote><p>原意：</p><ul><li><strong>l</strong>i<strong>n</strong>k</li></ul><p>执行权限：</p><ul><li><strong>所有用户</strong></li></ul><p>语法：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-s</span> <span class="token punctuation">[</span> 原文件 <span class="token punctuation">]</span> <span class="token punctuation">[</span> 目标文件 <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>不加选项：创建硬链接</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>-s：创建软链接</pre></td></tr></table></figure><p> </p><h2 id="软链接"><a class="anchor" href="#软链接">#</a> 软链接</h2><blockquote><p>类似 Windows 的快捷方式，权限都是：lrwxrwxrwx</p></blockquote><p>原意：</p><p>执行权限：</p><ul><li><strong>lrwx-rwx-rwx</strong></li></ul><p>特性：</p><ul><li><p>创建时原文件的路径</p><ul><li><p>创建时写的是临时路径</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-s</span> hello.c hello.slink</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>大小：7字节（ <span class="token operator">=</span>sizeof<span class="token punctuation">(</span>hello.c<span class="token punctuation">)</span> ）</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>软链接会在其所在目录寻找hello.c，所以移动后就不能指向原文件，而是在新路径下寻找hello.c</pre></td></tr><tr><td data-num="6"></td><td><pre>如果有另一个hello.c，将会与此文件建立链接，如果没有则此链接不能使用</pre></td></tr></table></figure></li><li><p>创建时写的是绝对路径</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">ln</span> <span class="token parameter variable">-s</span> /root/test/hello.c hello.slink</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>大小：18字节（ <span class="token operator">=</span>sizeof<span class="token punctuation">(</span>/root/test/hello.c<span class="token punctuation">)</span> ）</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>在使用时会按照绝对路径查找，移动链接不影响链接的使用</pre></td></tr></table></figure></li></ul></li><li><p>存储内容就是创建时的路径</p></li><li><p>可针对目录使用</p></li><li><p>创建时会新申请一个节点</p></li></ul><p> </p><h2 id="硬链接"><a class="anchor" href="#硬链接">#</a> 硬链接</h2><ul><li><p>可同步更新</p></li><li><p>通过 i 节点识别<br />创建的硬链接与源文件的 i 节点号相同、属性相同</p></li><li><p>删除原文件不影响使用</p></li><li><p>不能跨分区</p></li><li><p>不能针对目录使用</p></li></ul><p> </p><h2 id="节点"><a class="anchor" href="#节点">#</a> 节点</h2><ul><li><p>新建文件或目录会新建节点</p></li><li><p>同一个节点下可以有多个文件，互为硬链接</p></li><li><p>删除其中一个文件不影响其他文件</p></li><li><p>当节点下链接数为 0 时，节点才会被回收</p></li></ul><p> </p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（九）：卸载GTK+3导致GNOME崩溃</title>
      <link href="/2024/07/23/Ubuntu/log23-04-11/"/>
      <url>/2024/07/23/Ubuntu/log23-04-11/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="卸载gtk3导致gnome崩溃"><a class="anchor" href="#卸载gtk3导致gnome崩溃">#</a> 卸载 GTK+3 导致 GNOME 崩溃</h1><h2 id="概述"><a class="anchor" href="#概述">#</a> 概述</h2><p>最近运行一个软件需要用到 gtk 环境，下载 gtk+3 不能使用，打算卸载重装 gtk+2，卸载后  <code>gnome</code>  疑似崩溃：</p><ul><li><p>开始界面很多图标消失</p></li><li><p>终端变成了 XTerm</p></li><li><p>大多数功能仍能使用（小组件也可以）</p></li><li><p>重启过后进入不了图形界面</p></li></ul><p>卸载 gtk+3 后 Ubuntu 无法进入图形界面</p><p>运行过以下命令</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> autoremove libgtk-3-0</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> autoremove libgtk-3-dev</pre></td></tr></table></figure><p> </p><h2 id="原因"><a class="anchor" href="#原因">#</a> 原因</h2><p>可能的原因是 GTK 是 GNOME 的一个依赖库</p><p> </p><h2 id="解决办法"><a class="anchor" href="#解决办法">#</a> 解决办法</h2><p>卸载  <code>gnome</code>  并重装</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> update</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> upgrade</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> autoremove gnome</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gnome</pre></td></tr></table></figure><p> </p><h2 id="参考资料"><a class="anchor" href="#参考资料">#</a> 参考资料</h2><ul><li><a href="https://blog.csdn.net/qq_35386301/article/details/115374530">ubuntu 进不去图形化界面系统解决方案_haley.du 的博客 - CSDN 博客</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（八）：游戏手柄库安装</title>
      <link href="/2024/07/23/Ubuntu/log23-01-12/"/>
      <url>/2024/07/23/Ubuntu/log23-01-12/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="游戏手柄"><a class="anchor" href="#游戏手柄">#</a> 游戏手柄</h1><h2 id="概述"><a class="anchor" href="#概述">#</a> 概述</h2><p>Python 开发游戏时想加入手柄</p><p> </p><h2 id="驱动安装"><a class="anchor" href="#驱动安装">#</a> 驱动安装</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 安装 xbox 驱动</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> xboxdrv</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 安装 ps3 驱动</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> joy2key</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 安装手柄测试软件</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> joystick</pre></td></tr></table></figure><p> </p><h2 id="检测设备"><a class="anchor" href="#检测设备">#</a> 检测设备</h2><p>查看设备信息</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cat</span> /proc/bus/input/devices</pre></td></tr></table></figure><blockquote><p>在输出中找到游戏手柄对应的信息</p></blockquote><p> </p><p>查看数据输出</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cat</span> dev/input/js0 <span class="token operator">|</span> hexdump</pre></td></tr></table></figure><blockquote><p>检测手柄事件，会实时更新在输出窗口</p></blockquote><p> </p><p>测试手柄</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>jstest</pre></td></tr></table></figure><p> </p><h2 id="参考资料"><a class="anchor" href="#参考资料">#</a> 参考资料</h2><p><a href="https://blog.csdn.net/jrc_january/article/details/74537363">在 UBUNTU 中使用北通 USB 游戏手柄_rongchun.ji 的博客 - CSDN 博客_ubuntu 安装北通游戏手柄驱动</a></p><p><a href="https://blog.csdn.net/eastcnme/article/details/124966204">xbox one 无线手柄在 ubuntu 下的对接开发_xboxdrv_Embedded engineer 的博客 - CSDN 博客</a></p>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（七）：安装微信和百度网盘</title>
      <link href="/2024/07/23/Ubuntu/log23-01-05/"/>
      <url>/2024/07/23/Ubuntu/log23-01-05/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="安装微信"><a class="anchor" href="#安装微信">#</a> 安装微信</h1><h2 id="概述"><a class="anchor" href="#概述">#</a> 概述</h2><p>最近转手机文件太麻烦了，所以安装一个微信</p><p> </p><h2 id="更新-apt"><a class="anchor" href="#更新-apt">#</a> 更新 apt</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> update</pre></td></tr></table></figure><p> </p><h2 id="添加-deep-wine-仓库"><a class="anchor" href="#添加-deep-wine-仓库">#</a> 添加 deep-wine 仓库</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">wget</span> -O- https://deepin-wine.i-m.dev/setup.sh <span class="token operator">|</span> <span class="token function">sh</span></pre></td></tr></table></figure><p> </p><h2 id="安装微信-2"><a class="anchor" href="#安装微信-2">#</a> 安装微信</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> com.qq.weixin.deepin</pre></td></tr></table></figure><p><a href="https://deepin-wine.i-m.dev/">deep-wine 支持应用列表</a></p><p> </p><h2 id="问题"><a class="anchor" href="#问题">#</a> 问题</h2><ul><li><p><em><strong>下载失败</strong></em></p><blockquote><p>apt install 失败，并未遇见，但是记录一下</p></blockquote><p>可能会出现以下报错信息</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> com.qq.weixin.deepin</pre></td></tr><tr><td data-num="2"></td><td><pre>正在读取软件包列表<span class="token punctuation">..</span>. 完成</pre></td></tr><tr><td data-num="3"></td><td><pre>正在分析软件包的依赖关系树<span class="token punctuation">..</span>. 完成</pre></td></tr><tr><td data-num="4"></td><td><pre>正在读取状态信息<span class="token punctuation">..</span>. 完成                 </pre></td></tr><tr><td data-num="5"></td><td><pre>有一些软件包无法被安装。如果您用的是 unstable 发行版，这也许是</pre></td></tr><tr><td data-num="6"></td><td><pre>因为系统无法达到您要求的状态造成的。该版本中可能会有一些您需要的软件</pre></td></tr><tr><td data-num="7"></td><td><pre>包尚未被创建或是它们已被从新到<span class="token punctuation">(</span>Incoming<span class="token punctuation">)</span>目录移出。</pre></td></tr><tr><td data-num="8"></td><td><pre>下列信息可能会对解决问题有所帮助：</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>下列软件包有未满足的依赖关系：</pre></td></tr><tr><td data-num="11"></td><td><pre> libldap-2.4-2 <span class="token builtin class-name">:</span> 依赖: libsasl2-2 <span class="token punctuation">(</span><span class="token operator">>=</span> <span class="token number">2.1</span>.27.1<span class="token punctuation">)</span> 但是 <span class="token number">2.1</span>.27+dfsg2-3ubuntu1 正要被安装</pre></td></tr><tr><td data-num="12"></td><td><pre>E: 无法修正错误，因为您要求某些软件包保持现状，就是它们破坏了软件包间的依赖关系</pre></td></tr></table></figure><p>问题原因</p><blockquote><p>基本判断为 ubuntu 22.04 的问题（难得一次不是这个仓库的问题，也不是 deepin 的问题），高或者低版本的 ubuntu 应该还好，可能就 22.04 有这个问题。</p><p>deepin 的包依赖 <code>libldap-2.4-2</code> ，但是应该对版本没要求。怪就怪在 ubuntu 22.04 仓库里的 <code>libldap-2.4-2</code>  依赖 <code>libsasl2-2 (不低于2.1.27.1版本)</code> ，可是后者在源里压根不存在。<br />所以即使不为了 deepin-wine，你直接手动 <code>apt install libldap-2.4-2</code>  也一样报错。<br />这个问题属于更新过程中的纰漏了，估计过几个月官方应该会解决。</p></blockquote><p>解决方法</p><p>去<a href="http://mirrors.163.com/ubuntu/pool/main/c/cyrus-sasl2/"> Index of /ubuntu/pool/main/c/cyrus-sasl2/</a> 下载<a href="http://mirrors.163.com/ubuntu/pool/main/c/cyrus-sasl2/libsasl2-2_2.1.28+dfsg-6ubuntu2_amd64.deb"> libsasl2-2_2.1.28+dfsg-6ubuntu2_amd64.deb</a> 和<a href="http://mirrors.163.com/ubuntu/pool/main/c/cyrus-sasl2/libsasl2-modules-db_2.1.28+dfsg-6ubuntu2_amd64.deb"> libsasl2-modules-db_2.1.28+dfsg-6ubuntu2_amd64.deb</a> 先手动 <code>dpkg -i xxx.deb</code>  安装，然后正常 apt</p></li><li><p><em><strong>无法打开用户界面</strong></em></p><p>修改  <code>/opt/apps/com.qq.weixin.deepin/files/run.sh</code>  文件，注释掉设置  <code>WINEPREDLL</code>  环境变量的一行</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token parameter variable">-export</span> <span class="token assign-left variable">WINEPREDLL</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$ARCHIVE_FILE_DIR</span>/dlls"</span></pre></td></tr><tr><td data-num="2"></td><td><pre>+<span class="token comment"># export WINEPREDLL="$ARCHIVE_FILE_DIR/dlls"</span></pre></td></tr></table></figure></li></ul><p> </p><h2 id="tips"><a class="anchor" href="#tips">#</a> tips</h2><p>聊天下载的问题打不开，在用户文件夹下的  <code>~/Documents/WeChat Files</code>  中能够找到，应该有微信号对应的文件夹，进入之后有  <code>FileStorage</code>  文件夹用于存储用户文件，还有其他文件夹</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>drwxrwxr-x <span class="token number">14</span> ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 ./</pre></td></tr><tr><td data-num="2"></td><td><pre>drwxrwxr-x <span class="token number">8</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 <span class="token punctuation">..</span>/</pre></td></tr><tr><td data-num="3"></td><td><pre>drwxrwxr-x <span class="token number">3</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 Cache/</pre></td></tr><tr><td data-num="4"></td><td><pre>drwxrwxr-x <span class="token number">8</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 CustomEmotion/</pre></td></tr><tr><td data-num="5"></td><td><pre>drwxrwxr-x <span class="token number">5</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 Fav/</pre></td></tr><tr><td data-num="6"></td><td><pre>drwxrwxr-x <span class="token number">2</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 File/</pre></td></tr><tr><td data-num="7"></td><td><pre>drwxrwxr-x <span class="token number">4</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 General/</pre></td></tr><tr><td data-num="8"></td><td><pre>drwxrwxr-x <span class="token number">3</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 Image/</pre></td></tr><tr><td data-num="9"></td><td><pre>drwxrwxr-x <span class="token number">13</span> ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> <span class="token number">16</span>:14 MsgAttach/</pre></td></tr><tr><td data-num="10"></td><td><pre>drwxrwxr-x <span class="token number">2</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 PAG/</pre></td></tr><tr><td data-num="11"></td><td><pre>drwxrwxr-x <span class="token number">3</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 Sns/</pre></td></tr><tr><td data-num="12"></td><td><pre>drwxrwxr-x <span class="token number">3</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> <span class="token number">16</span>:20 Temp/</pre></td></tr><tr><td data-num="13"></td><td><pre>drwxrwxr-x <span class="token number">2</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 TempFromPhone/</pre></td></tr><tr><td data-num="14"></td><td><pre>drwxrwxr-x <span class="token number">2</span>  ***** ***** <span class="token number">4096</span> <span class="token number">1</span>月 <span class="token number">5</span> 00:35 Video/</pre></td></tr></table></figure><p>可以看到，只有 MsgAttach 和 Temp 最近有修改，查看 Temp 中的文件后发现这个文件夹应该是用于存储登陆信息的，MsgAttach 通过名字推断应该是存储聊天附带内容，进入后会有一系列由数字和字母组成的 32 位名称的文件夹，每个文件夹可能对应一个聊天，找到最近修改的文件夹进入就能找到了，一次成功的记录：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>~/Documents/WeChat Files/wxid_******/FileStorage/MsgAttach/******/File/2023-01</pre></td></tr></table></figure><h2 id="聊天记录破解"><a class="anchor" href="#聊天记录破解">#</a> 聊天记录破解</h2><p><a href="https://www.zhihu.com/question/45070018?sort=created">微信电脑版的聊天记录怎么解密？</a></p><p><a href="https://www.iculture.cc/knowledge/pig=22381">微信好友列表 / 聊天记录导出小工具 支持全版本 支持导出 CSV-FancyPig's blog</a></p><p> </p><h2 id="参考资料"><a class="anchor" href="#参考资料">#</a> 参考资料</h2><p><a href="https://blog.csdn.net/weixin_38493195/article/details/124870781">Ubuntu 系列学习（四）ubuntu 22.04 安装 微信、QQ_毅博明喆的博客 - CSDN 博客_ubuntu 22.04 微信</a></p><p><a href="https://blog.csdn.net/yqq1997/article/details/128093339">解决 Ubuntu22.04 微信打不开的问题_youngqqcn 的博客 - CSDN 博客_ubuntu 安装微信打不开</a></p><p><a href="https://github.com/zq1997/deepin-wine/issues/312">ubuntu 22.04.1 安装依赖问题・Issue #312・zq1997/deepin-wine・GitHub</a></p><p> </p><hr /><p> </p><h1 id="百度云盘加速"><a class="anchor" href="#百度云盘加速">#</a> 百度云盘加速</h1><h2 id="概述-2"><a class="anchor" href="#概述-2">#</a> 概述</h2><p>事实上不只限于百度网盘，这个主要是多线程下载</p><p> </p><h2 id="aria2-安装及使用"><a class="anchor" href="#aria2-安装及使用">#</a> Aria2 安装及使用</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> aria2</pre></td></tr></table></figure><h2 id="使用"><a class="anchor" href="#使用">#</a> 使用</h2><p>有的链接需要加双引号，否则会下载失败</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>aria2c 下载链接地址</pre></td></tr></table></figure><p> </p><h2 id="安装获取直链脚本"><a class="anchor" href="#安装获取直链脚本">#</a> 安装获取直链脚本</h2><p><a href="https://greasyfork.org/zh-CN/scripts/436446-%E7%BD%91%E7%9B%98%E7%9B%B4%E9%93%BE%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B">网盘直链下载助手</a></p><p> </p>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（六）：安装网易云音乐、安装locate命令</title>
      <link href="/2024/07/23/Ubuntu/log23-01-02/"/>
      <url>/2024/07/23/Ubuntu/log23-01-02/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="安装网易云音乐"><a class="anchor" href="#安装网易云音乐">#</a> 安装网易云音乐</h1><h2 id="特别说明"><a class="anchor" href="#特别说明">#</a> 特别说明</h2><p>根据网上的教程安装出现了一些问题：</p><ul><li><p><em>参考<a href="https://blog.csdn.net/leibris/article/details/124895824"> Ubuntu22.04 安装网易云音乐实操笔记_LeiBris 的博客 - CSDN 博客_ubuntu 音乐</a>的步骤能进入用户界面，但是会报错</em></p></li><li><p><em>参考<a href="https://blog.csdn.net/footrip/article/details/103639958">解决 Failed to load module canberra-gtk-module 错误_footrip 的博客 - CSDN 博客_libcanberra-gtk-module</a> 中的解决办法，进入不了界面，但是如果只是把动态库文件放到了网易云库文件夹下，其他步骤按照上一个参考中做就没有问题</em></p></li></ul><p>我感觉这两个的区别就是</p><ul><li><p>第一个：使用系统内置的  <code>/lib/x86_64-linux-gnu/</code>  的库文件，但是由于系统更新有几个库文件缺失，所以会导致能进但是某些功能受限导致卡死</p></li><li><p>第二个：教程上感觉是补全缺失的动态库文件，然后让软件直接使用自己的库文件，但是会导致进入不了界面，不知道</p></li></ul><p>最后综合了两个教程的方法，最后能正常进入，且运行中没有再发生卡死的情况，根据结果来看，我认为把缺失的动态库添加到软件自带的库中，在启动脚本中再增添系统内置库的路径，这样就能同时有两个库的资源，并且只修改了软件的库文件，就算出现问题也最多软件不能用，不会危害到系统，比较安全</p><blockquote><p><em>如果以后再发生运行中卡死的情况，可以试试完全执行第二个教程，该文章中在最后把运行  <code>libs</code>  库文件没懂是什么操作，可能是赋予运行权限然后运行？</em></p></blockquote><p> </p><h2 id="下载安装"><a class="anchor" href="#下载安装">#</a> 下载安装</h2><p>去<a href="https://music.163.com/#/download">网易云音乐官网</a>在其他操作系统里选择 Linux，选择  <code>ubuntu18.04</code>  版本到下载目录安装</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> netease-cloud-music_1.2.1_amd64_ubuntu_20190428.deb</pre></td></tr></table></figure><p> </p><h2 id="修改启动脚本"><a class="anchor" href="#修改启动脚本">#</a> 修改启动脚本</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /opt/netease/netease-cloud-music</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">vim</span> ./netease-cloud-music.bash</pre></td></tr></table></figure><p>修改内容如下，主要是添加  <code>cd /lib/x86_64-linux-gnu/</code></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token shebang important">#!/bin/sh</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token assign-left variable">HERE</span><span class="token operator">=</span><span class="token string">"$(dirname "<span class="token variable"><span class="token variable">$(</span>readlink <span class="token parameter variable">-f</span> <span class="token string">"<span class="token variable">$&#123;0&#125;</span>"</span><span class="token variable">)</span></span>"</span><span class="token punctuation">)</span><span class="token string">"</pre></td></tr><tr><td data-num="3"></td><td><pre>export LD_LIBRARY_PATH="</span><span class="token variable">$&#123;HERE&#125;</span><span class="token string">"/libs:<span class="token variable">$LD_LIBRARY_PATH</span></pre></td></tr><tr><td data-num="4"></td><td><pre>export QT_PLUGIN_PATH="</span><span class="token variable">$&#123;HERE&#125;</span><span class="token string">"/plugins</pre></td></tr><tr><td data-num="5"></td><td><pre>export QT_QPA_PLATFORM_PLUGIN_PATH="</span><span class="token variable">$&#123;HERE&#125;</span><span class="token string">"/plugins/platforms</pre></td></tr><tr><td data-num="6"></td><td><pre>cd /lib/x86_64-linux-gnu/</pre></td></tr><tr><td data-num="7"></td><td><pre>exec "</span><span class="token variable">$&#123;HERE&#125;</span>"/netease-cloud-music <span class="token variable">$@</span></pre></td></tr></table></figure><p> </p><h2 id="重新安装-canberra-gtk-module-模块"><a class="anchor" href="#重新安装-canberra-gtk-module-模块">#</a> 重新安装  <code>canberra-gtk-module</code>  模块</h2><blockquote><p>这里学会使用  <code>locate</code>  命令，可以定位模块对应的文件位置</p></blockquote><p>重新安装模块</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libcanberra-gtk-module</pre></td></tr></table></figure><p> </p><h2 id="添加动态库文件"><a class="anchor" href="#添加动态库文件">#</a> 添加动态库文件</h2><blockquote><p>Ubuntu 22.04 由于更换 / 升级了一些动态库，系统动态库 x86_64-linux-gnu 内 libgio-2.0.so.0、libpangocairo-1.0.so.0 引用库缺少了函数支持， 导致程序无法运行，又因前两个动态库的更换导致依赖动态库 libselinux.so.1 缺少。故只能使用安装目录库并补齐以上三个动态库，且 Ubuntu22.04 的库无法使用，只能使用 21.10 以下的系统库文件</p></blockquote><p><em><strong>一定要将文件添加到网易云内置的库，不要放到系统库中以免造成系统崩溃！！！</strong></em></p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cp</span> libgio-2.0.so.0 libpangocairo-1.0.so.0.4800.10 libselinux.so.1 /opt/netease/netease-cloud-music/libs</pre></td></tr></table></figure><p> </p><h2 id="重新启动"><a class="anchor" href="#重新启动">#</a> 重新启动</h2><p>重新启动就没有问题了</p><p> </p><h2 id="问题记录"><a class="anchor" href="#问题记录">#</a> 问题记录</h2><blockquote><p>建议有疑问的软件可以通过命令行启动，如果有问题的话会在终端输出报错信息，这样就可以通过报错信息寻找解决办法了</p></blockquote><ul><li><p>启动无反应</p><p>报错信息如下</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>/opt/netease/netease-cloud-music/netease-cloud-music: symbol lookup error: /lib/x86_64-linux-gnu/libpangocairo-1.0.so.0: undefined symbol: pango_font_get_hb_font</pre></td></tr></table></figure><p>解决办法：参考安装过程中的修改启动脚本（建议备份习惯）</p></li><li><p><em><strong>报错  <code>Failed to load module &quot;canberra-gtk-module&quot;</code> </strong></em></p><p>解决办法：重新安装  <code>libcanberra-gtk-module</code>  模块</p></li><li><p><em><strong>卡死</strong></em></p><p>添加动态库到网易云软件的库中  <code>/opt/netease/netease-cloud-music/libs</code></p><p><strong>一定要是网易云内置的库，不要放到系统库中以免造成系统崩溃！！！</strong></p></li><li><p><em><strong>网络</strong></em></p></li></ul><p> </p><h2 id="参考资料"><a class="anchor" href="#参考资料">#</a> 参考资料</h2><ol><li><p><a href="https://blog.csdn.net/leibris/article/details/124895824">Ubuntu22.04 安装网易云音乐实操笔记_LeiBris 的博客 - CSDN 博客_ubuntu 音乐</a></p></li><li><p><a href="https://blog.csdn.net/footrip/article/details/103639958">解决 Failed to load module canberra-gtk-module 错误_footrip 的博客 - CSDN 博客_libcanberra-gtk-module</a></p></li><li><p><a href="https://blog.csdn.net/chauncygu/article/details/109143966">Ubuntu 下网易云音乐出现 “加载失败，网络错误，可以在设置中发送反馈” 问题及解决_AndrewGSD 的博客 - CSDN 博客</a></p></li><li><p><a href="https://icode.best/i/15851947332762">Ubuntu 22.4 网易云音乐启动失败处理方法 - 爱代码爱编程</a></p></li><li><p><a href="https://www.bbsmax.com/A/A2dmjDYAze/">Ubuntu16.04 下的网易云出现网络异常、无法播放，界面无响应问题的统一解决</a></p></li></ol><p> </p><hr /><p> </p><h1 id="安装locate命令"><a class="anchor" href="#安装locate命令">#</a> 安装 locate 命令</h1><h2 id="安装配置"><a class="anchor" href="#安装配置">#</a> 安装配置</h2><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 安装 locate</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> mlocate</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment"># 需要更新索引库</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">sudo</span> updatedb</pre></td></tr></table></figure><h2 id="几个查找命令对比"><a class="anchor" href="#几个查找命令对比">#</a> 几个查找命令对比</h2><ul><li><p><code>which</code>  ：在 PATH 变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。</p></li><li><p><code>whereis</code>  ： <code>whereis</code>  命令只能用于程序名的搜索，而且只搜索二进制文件（参数 - b）、man 说明文件（参数 - m）和源代码文件（参数 - s）。如果省略参数，则返回所有信息</p></li><li><p><code>locate</code>  ：配合数据库查看文件位置</p></li><li><p><code>find</code>  ：实际搜寻硬盘查询文件名称</p></li></ul><p>当用  <code>locate</code>  无法查找到需要的文件时，可以使用  <code>find</code> ，但是  <code>find</code>  是在硬盘上遍历查找，因此非常消耗硬盘的资源，而且效率也非常低，因此建议大家优先使用  <code>whereis</code>  和  <code>locate</code> ，可以在使用  <code>locate</code>  之前，先使用  <code>updatedb</code>  命令，手动更新数据库。。</p><p> </p><h2 id="参考资料-2"><a class="anchor" href="#参考资料-2">#</a> 参考资料</h2><p><a href="https://blog.csdn.net/m0_59673430/article/details/119863445">Ubuntu 中 locate 命令缺失解决方法_Dory_Youth 的博客 - CSDN 博客_ubuntu locate</a></p><p><a href="https://www.iteye.com/blog/312788172-730280">linux 下 which、whereis、locate、find 命令的区别</a></p><p><a href="https://blog.csdn.net/yucan1001/article/details/8451169">which、whereis、locate、find 命令用法_肥萝卜使大力的博客 - CSDN 博客</a></p>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（五）：GNOME安装及使用</title>
      <link href="/2024/07/19/Ubuntu/log22-12-31/"/>
      <url>/2024/07/19/Ubuntu/log22-12-31/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="gnome安装及使用"><a class="anchor" href="#gnome安装及使用">#</a> GNOME 安装及使用</h1><h2 id="概述"><a class="anchor" href="#概述">#</a> 概述</h2><p>本机使用的系统版本为 Ubuntu22.04 ，自带 gnome42 ，据说和原版 gnome 有区别，但我在使用中并未发现问题，因此就不重新安装 gnome 桌面了，直接添加 gnome 工具，以下是参考文章 <a href="https://bytexd.com/how-to-install-gnome-desktop-in-ubuntu/">How to Install GNOME Desktop in Ubuntu 22.04 or 20.04</a> 中的一段话，感觉应该是说 Ubuntu 的 Gnome 算是一个为了与 Ubuntu 集成的特别版</p><blockquote><p>The difference between Vanilla GNOME and Ubuntu GNOME is that Ubuntu GNOME is an official flavor of Ubuntu, while Vanilla GNOME is not. Ubuntu GNOME is a fork of the GNOME project that is designed to be integrated with the Ubuntu operating system.</p></blockquote><p> </p><h2 id="安装"><a class="anchor" href="#安装">#</a> 安装</h2><ul><li><p>个性化定制</p><blockquote><p>先在应用程序列表里搜索  <code>tweak</code>  看能不能找到  <code>优化</code>  有的话可能不需要下载</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gnome-tweaks</pre></td></tr></table></figure><p>一些教程使用的  <code>gnome-tweak-tools</code>  已经被这个替代了</p></li><li><p>安装拓展管理器</p><blockquote><p><code>gnome-tweaks</code>  已经不再管理拓展，需要安装额外的拓展管理程序</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gnome-shell-extension-manager</pre></td></tr></table></figure></li><li><p>安装浏览器插件</p><blockquote><p>拓展管理器里其实也可以下载，喜欢从网页下载的话使用以下网址</p></blockquote><p>Chrome 浏览器<a href="https://chrome.google.com/webstore/detail/gnome-shell-integration/">插件地址</a></p><p>Firefox 浏览器<a href="https://addons.mozilla.org/en-US/firefox/addon/gnome-shell-integration/">插件地址</a></p></li><li><p>安装网页与本地扩展的联系工具</p><blockquote><p>安装这个插件和浏览器插件之后可以在网页端直接安装 Gnome Shell 插件</p></blockquote><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> chrome-gnome-shell</pre></td></tr></table></figure></li></ul><p> </p><h2 id="插件推荐"><a class="anchor" href="#插件推荐">#</a> 插件推荐</h2><ul><li><p>外观：</p><ul><li><p><a href="https://extensions.gnome.org/extension/19/user-themes/">User Themes</a>：想给  <code>gnome</code>  换主题就必须安装这个插件</p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//extensions.gnome.org/extension/97/coverflow-alt-tab/">Coverflow Alt-Tab</a>：很棒的切换效果，同样支持一些自定义设置。</p></li><li><p><a href="https://extensions.gnome.org/extension/307/dash-to-dock/">Dash to Dock</a>：将 gnome 左侧的 dock 变成类似于 MacOS 的 dock（Dash to Dock 和 Ubuntu Dock 有冲突，文章里建议删除 Ubuntu Dock，但在拓展管理里把 Ubuntu Dock 关闭即可）</p></li><li><p><a href="https://extensions.gnome.org/extension/1287/unite/">Unite</a>：可对顶栏自定义，例如添加当前窗口的标题或最大最小化按钮，也可以去除标题栏</p></li></ul></li><li><p>系统信息</p><ul><li><p><a href="https://extensions.gnome.org/extension/1460/vitals/">Vitals</a>：在顶栏显示内存、负载、CPU 使用率等信息</p></li><li><p><a href="https://extensions.gnome.org/extension/1085/simple-net-speed/">Simple net speed</a>：显示网速，拓展  <code>Net Speed</code>  与  <code>Gnome42</code>  不兼容，所以使用这个拓展作为替代品～～</p></li></ul></li><li><p>小工具</p><ul><li><p><a href="https://extensions.gnome.org/extension/1112/screenshot-tool/">Screenshot tool</a>：截图工具</p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//extensions.gnome.org/extension/750/openweather/">OpenWeather</a>：显示天气</p></li><li><p><a href="https://extensions.gnome.org//extension/3088/extension-list/">Extension List</a>：便捷的扩展管理小插件</p></li><li><p><a href="https://link.zhihu.com/?target=https%3A//extensions.gnome.org/extension/1357/notes/">Notes</a>：便利贴小工具</p></li></ul></li><li><p>生产力</p><ul><li><a href="https://extensions.gnome.org/extension/779/clipboard-indicator/">Clipboard Indicator</a>：显示复制粘贴的历史，还可以永久保存某次复制历史</li></ul></li><li><p>其他</p><ul><li><p><a href="https://extensions.gnome.org/extension/1610/fullscreen-notifications/">Fullscreen Notifications</a>：全屏时仍可弹出系统通知</p></li><li><p><a href="https://extensions.gnome.org/extension/701/top-panel-workspace-scroll/">Top Panel Workspace Scroll</a>：在顶栏滚动鼠标就可以切换工作区</p></li></ul></li><li><p>当前 gnome 版本不支持</p><ul><li><p><s><a href="https://link.zhihu.com/?target=https%3A//extensions.gnome.org/extension/1176/argos/">Argos</a>：重磅推荐 Argo，可以用脚本自定义各种各样的小组件</s></p></li><li><p><s><a href="https://extensions.gnome.org/extension/3070/simpler-off-menu/">Simpler Off Menu</a>：可以自定义顶栏的设置菜单</s></p></li><li><p><s><a href="https://extensions.gnome.org/extension/1367/hide-frequent-view/">Hide Frequent View</a>：在应用列表中隐藏 “常用” 标签页</s></p></li><li><p><s><a href="https://extensions.gnome.org/extension/2494/bigavatar/">BigAvatar</a>：在顶栏的设置菜单中显示自己的头像</s></p></li><li><p><s><a href="https://link.zhihu.com/?target=https%3A//extensions.gnome.org/extension/1036/extensions/">Extensions</a>：便捷的扩展管理小插件</s></p></li></ul></li></ul><p> </p><h2 id="参考资料"><a class="anchor" href="#参考资料">#</a> 参考资料</h2><p><a href="https://zhuanlan.zhihu.com/p/409493039">Ubuntu 下 Gnome 界面美化、超好用插件</a></p><p><a href="https://blog.csdn.net/a772304419/article/details/124975028">linux ubuntu 22.04 安装后配置优化：调整 Dock Panel 外观 &amp; 启用 Gnome 扩展支持 &amp; 安装 gnome tweaks_学亮编程手记的博客 - CSDN 博客</a></p><p><a href="https://www.linuxmi.com/ubuntu-22-04-lts-linux-tweak-tool.html">如何在 Ubuntu 22.04 LTS Linux 上安装 Tweak 优化工具</a></p><p><a href="https://bytexd.com/how-to-install-gnome-desktop-in-ubuntu/">How to Install GNOME Desktop in Ubuntu 22.04 or 20.04</a></p><p><a href="https://blog.csdn.net/a772304419/article/details/124975028">linux ubuntu 22.04 安装后配置优化：调整 Dock Panel 外观 &amp; 启用 Gnome 扩展支持 &amp; 安装 gnome tweaks_学亮编程手记的博客 - CSDN 博客</a></p><p> </p><hr /><p> </p><h1 id="markdown添加空白行"><a class="anchor" href="#markdown添加空白行">#</a> MarkDown 添加空白行</h1><h2 id="概述-2"><a class="anchor" href="#概述-2">#</a> 概述</h2><p>Markdown 本身特性会忽略一个以上的空行，每次关闭编辑后空白行会被自动删除，但是有的时候需要空白行使文章段落分明，这里有来两种方法插入空白行</p><ul><li><p>单独一行写入  <code>&amp;nbsp;</code></p><p><em>Markdown：</em></p><figure class="highlight markdown"><figcaption data-lang="markdown"></figcaption><table><tr><td data-num="1"></td><td><pre>我们的中间有一个空行。</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>好像是的。</pre></td></tr></table></figure><p><em>显示结果：</em></p><ul><li>我们的中间有一个空行。<br /> <br />好像是的。</li></ul></li><li><p>使用 HTML 标签  <code>&lt;br /&gt;</code></p><p><em>Markdown：</em></p><figure class="highlight markdown"><figcaption data-lang="markdown"></figcaption><table><tr><td data-num="1"></td><td><pre>我们的中间有一个空行。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>好像是的。</pre></td></tr></table></figure><p><em>显示结果：</em></p><ul><li>我们的中间有一个空行。&lt;br /&gt;<br /> 好像是的。</li></ul></li></ul><p> </p><h2 id="参考资料-2"><a class="anchor" href="#参考资料-2">#</a> 参考资料</h2><p><a href="https://blog.csdn.net/PursueLuo/article/details/95678470">Markdown：空行和空格_lcg_magic 的博客 - CSDN 博客</a></p><p> </p><hr /><p> </p><h1 id="nvidia显卡驱动"><a class="anchor" href="#nvidia显卡驱动">#</a> Nvidia 显卡驱动</h1><blockquote><p>已经通过软件更新的附加驱动项安装，这里记录一下以备以后需要</p></blockquote><p> </p><h2 id="参考资料-3"><a class="anchor" href="#参考资料-3">#</a> 参考资料</h2><p><a href="https://blog.csdn.net/Perfect886/article/details/119109380">Ubuntu20.04、22.04 安装 nvidia 显卡驱动 —— 超详细、最简单_道阻且长行则将至！的博客 - CSDN 博客_ubuntu 安装 nvidia 显卡驱动</a></p><p> </p><hr /><p> </p><h1 id="python-安装-pygame-库"><a class="anchor" href="#python-安装-pygame-库">#</a> Python 安装 pygame 库</h1><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> pip3 <span class="token function">install</span> pygame</pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（四）：解决Ubuntu Win10双系统时间不同步</title>
      <link href="/2024/07/19/Ubuntu/log22-12-29/"/>
      <url>/2024/07/19/Ubuntu/log22-12-29/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ubuntu-windowswin10双系统时间不同步"><a class="anchor" href="#ubuntu-windowswin10双系统时间不同步">#</a> Ubuntu Windows (Win10) 双系统时间不同步</h1><h2 id="概述"><a class="anchor" href="#概述">#</a> 概述</h2><p>使用 Win10 玩游戏，发现每次登陆 Steam 上的游戏时发现提示当前存档和云存档进度不一，本地存档较新，每次退出游戏时即便等待 Steam 更新云存档完成还是会报警告<br />，这时发现每次登陆系统时间与当地时间不符，Steam 应该是通过存档时间判断，本地存档时系统时间不正确，记录了一个错误时间，校准过系统时间后再登陆游戏存档，退出重新登陆时就不会有问题了，但是为什么每次登陆时 Windows 系统时间会不准？查阅资料发现，是 Windows 和 Ubuntu 对 BIOS 时间的处理不同，最终通过 Ubuntu 的 <code>timedatectl</code>  时间管理工具修改 Ubuntu 设置解决</p><p> </p><h2 id="问题原因"><a class="anchor" href="#问题原因">#</a> 问题原因</h2><p>BIOS 时间：系统硬件时间 (RTC)</p><ul><li><p>windows 认为，BIOS 时间就是当地时间。所以 windows 会直接显示 BIOS 时间</p></li><li><p>ubuntu 认为，BIOS 时间应当是 UTC 时间（格林尼治标准时间）。所以 ubuntu 会将 BIOS 时间加上 8 小时后再显示出来（在中国）</p></li></ul><p>Ubuntu 中可以通过  <code>timedatectl statue</code>  查看系统时间设置</p><p> </p><h2 id="解决方法"><a class="anchor" href="#解决方法">#</a> 解决方法</h2><p>进入 Ubuntu 打开终端输入以下命令</p><p><code>sudo timedatectl set-local-rtc 1</code></p><p>这句话的作用是让 ubuntu 将系统时间和 BIOS 时间同步。现在，ubuntu 和 windows 一样，都认为 BIOS 时间就是当地时间，联网更新时，也是直接将 BIOS 时间设为当地时间</p><p>再次使用 timedatectl 时系统会有一个警告，不需要关心</p><pre><code class="language-shel">Warning: The system is configured to read the RTC time in the local time zone.         This mode cannot be fully supported. It will create various problems         with time zone changes and daylight saving time adjustments. The RTC         time is never updated, it relies on external facilities to maintain it.         If at all possible, use RTC in UTC by calling         'timedatectl set-local-rtc 0'. </code></pre><p> </p><h2 id="参考资料"><a class="anchor" href="#参考资料">#</a> 参考资料</h2><ul><li><p><a href="https://zhuanlan.zhihu.com/p/492885761">ubuntu 与 windows 双系统时间同步问题 —— 简明指南 - 知乎</a></p></li><li><p><a href="https://blog.csdn.net/m0_63969219/article/details/124360227">Ubuntu&amp;Windows 双系统时间不同步，Windows 慢 8 个小时_江城撅嘴的川羌的博客 - CSDN 博客_双系统时间</a></p></li></ul><p> </p><hr /><p> </p><h1 id="安装新输入法-fcitx5"><a class="anchor" href="#安装新输入法-fcitx5">#</a> 安装新输入法 Fcitx5</h1><h2 id="概述-2"><a class="anchor" href="#概述-2">#</a> 概述</h2><p>原始输入法  <code>ibus</code></p><p> </p><h2 id="安装及配置"><a class="anchor" href="#安装及配置">#</a> 安装及配置</h2><p>建议按照<a href="https://blog.csdn.net/w710537643/article/details/114388624"> Ubuntu 20.10 安装 fcitx5 输入法_小和尚敲木头的博客 - CSDN 博客_ubuntu20 fcitx5</a> 中的方法安装，这里介绍的方法是完整安装，即将 fcitx5 的相关包全部下载安装</p><ul><li><p>安装： <code>sudo apt install fcitx5* kde-config-fcitx5</code></p></li><li><p>添加中文词库</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 下载词库文件</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">wget</span> https://github.com/felixonmars/fcitx5-pinyin-zhwiki/releases/download/0.2.4/zhwiki-20220416.dict</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment"># 创建存储目录</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">mkdir</span> ~/.local/share/fcitx5/pinyin/dictionaries/</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment"># 移动词库文件至该目录</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">mv</span> zhwiki-20220416.dict ~/.local/share/fcitx5/pinyin/dictionaries/</pre></td></tr></table></figure></li><li><p>设置默认输入法</p><p>命令行输入  <code>im-config</code>  根据弹出窗口的提示，将首选输入法设置为 Fcitx 5 即可</p></li><li><p>设置开机自启动：</p><p>安装  <code>gnome-tweaks</code>  在开机启动程序里添加，已经安装完成后发现 Ubuntu 自带了启动应用程序，应该也可以设置，能看到使用  <code>gnome-tweaks</code>  添加的自启动程序出现在这个列表里</p></li><li><p>环境变量配置：</p><p>在  <code>~/.pam_pam_environment</code>  中添加环境变量如下</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>GTK_IM_MODULE <span class="token assign-left variable">DEFAULT</span><span class="token operator">=</span>fcitx5</pre></td></tr><tr><td data-num="2"></td><td><pre>QT_IM_MODULE  <span class="token assign-left variable">DEFAULT</span><span class="token operator">=</span>fcitx5</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token environment constant">XMODIFIERS</span>    <span class="token assign-left variable">DEFAULT</span><span class="token operator">=</span>@im<span class="token operator">=</span>fcitx5</pre></td></tr></table></figure></li><li><p>更换主题：</p><p>可以去 GitHub 搜索  <code>fcitx5 theme</code>  ，这里使用了<a href="https://github.com/sxqsfun/fcitx5-sogou-themes"> GitHub - sxqsfun/fcitx5-sogou-themes: 几款 极简风 搜狗皮肤转换的 fcitx5 主题😄️😄️😄️</a>的  <code>Alpha-black</code></p><p>添加方法就是将对应主题文件夹复制到  <code>~/.local/share/fcitx5/themes</code>  文件夹下</p><p>由于其首选词高亮颜色太暗所以将更换了配色，更改方法就是修改  <code>theme.conf</code>  文件  <code>[InputPanel]</code>  中的变量，(  <code>skin.ini</code>  应该是 Windows 环境的配置文件 )</p></li></ul><p> </p><h2 id="问题"><a class="anchor" href="#问题">#</a> 问题</h2><ul><li><p><em><strong>环境变量</strong></em></p><p>参考 2 建议了两种配置，一种是写入  <code>~/.bash_profile</code>  仅对当前用户生效，另一种是写入系统级配置文件  <code>/etc/profile</code>  对所有用户生效，但是都没有使用，最后参考了<a href="https://blog.csdn.net/w710537643/article/details/114388624"> Ubuntu 20.10 安装 fcitx5 输入法_小和尚敲木头的博客 - CSDN 博客_ubuntu20 fcitx5</a> 中的说法，环境变量不要随便装，因此在   <code>~/.pam_pam_environment</code>  中添加环境变量</p></li><li><p><em><strong>终端无法使用中文输入</strong></em></p><p>不知道原因，原本没有完整安装，只是安装了以下几个包，完整安装了  <code>fcitx5</code>  就没有问题了</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> fcitx5 <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="2"></td><td><pre>fcitx5-chinese-addons <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="3"></td><td><pre>fcitx5-frontend-gtk3 fcitx5-frontend-gtk2 <span class="token punctuation">\</span></pre></td></tr><tr><td data-num="4"></td><td><pre>fcitx5-frontend-qt5 kde-config-fcitx5</pre></td></tr></table></figure></li><li><p><em><strong>第一次打开界面  <code>shift</code>  无反应</strong></em></p><p>每打开一个新桌面会话，第一次输入时需要使用  <code>ctrl</code>  +  <code>shift</code>  切换输入法，之后就可以只用  <code>shift</code>  切换</p></li><li><p><em><strong>修复 JetBrains 系 IDE 显示问题</strong></em></p><p>在 JetBrains 系 IDE（如 PyCharm）中，输入法选择框的位置始终固定于屏幕左下角，而非随输入光标移动，在中文输入很不方便。该问题为 IDE 的 JetBrainsRuntime 缺陷所致。可尝试使用 RikudouPatrickstar/JetBrainsRuntime-for-Linux-x64 这个仓库发布的 JBR 文件解决</p></li></ul><p> </p><h2 id="参考资料-2"><a class="anchor" href="#参考资料-2">#</a> 参考资料</h2><ul><li><p><a href="https://zhuanlan.zhihu.com/p/508797663">Ubuntu22.04 安装 Fcitx5 中文输入法（详细）</a></p></li><li><p><a href="https://blog.csdn.net/mziing/article/details/124557091">Ubuntu22.04 安装配置 Fcitx5 中文输入法（详细）_muzing_的博客 - CSDN 博客_fcitx5</a></p></li><li><p><a href="https://blog.csdn.net/w710537643/article/details/114388624">Ubuntu 20.10 安装 fcitx5 输入法_小和尚敲木头的博客 - CSDN 博客_ubuntu20 fcitx5</a></p></li></ul><p> </p><p> </p><hr /><p> </p><h1 id="一个比较完美的帖子"><a class="anchor" href="#一个比较完美的帖子">#</a> 一个比较完美的帖子</h1><p><a href="https://blog.csdn.net/qq_36153106/article/details/126656107">ubuntu22.04 美化、办公、开发工具安装_他们叫我都叫兽的博客 - CSDN 博客_ubuntu22.04</a></p><p><a href="https://blog.csdn.net/qq_42313728/article/details/125733569">Ubuntu22.04 安装与配置记录_过客 WZX 的博客 - CSDN 博客_ubuntu22.04</a></p><p> </p><hr /><p> </p><h1 id="apt清理"><a class="anchor" href="#apt清理">#</a> APT 清理</h1><p>下载 Gnome-Tweaks 时不小心下载成  <code>gnome</code>  下载中途紧急中止，幸而还没有下载完全，也没有安装，因此删除 APT 下载的安装包，这里记录一下  <code>apt</code>  删除命令及缓存清理</p><h2 id="清理命令"><a class="anchor" href="#清理命令">#</a> 清理命令</h2><ul><li><p><code>apt autoremove</code></p><p>删除已安装的软件包（保留配置文件），不会删除依赖软件包，且保留配置文件。（这个命令容易导致系统无法进入系统桌面）</p></li><li><p><code>apt remove 软件包名</code></p><p>删除已安装的软件包（保留配置文件）</p></li><li><p><code>apt-get purge / apt-get --purge remove 软件包名</code></p><p>删除已安装包（不保留配置文件)，删除软件包，同时删除相应依赖软件包</p></li><li><p><code>apt-get clean</code></p><p>此命令会将  <code>/var/cache/apt/archives/</code>  下的 所有 deb 删掉，相当于清理下载的软件安装包</p></li><li><p><code>apt-get autoclean</code></p><p>删除为了满足某些依赖安装的，但现在不再需要的软件包</p></li></ul><p> </p><h2 id="缓存"><a class="anchor" href="#缓存">#</a> 缓存</h2><p><code>/var/cache/apt/archives/</code>  是  <code>apt</code>  下载缓存的存储位置</p><p> </p><h2 id="参考资料-3"><a class="anchor" href="#参考资料-3">#</a> 参考资料</h2><p><a href="https://blog.csdn.net/xuchaoxin1375/article/details/124502453">linux_apt 卸载清理 / 包检查 / 完整包名查询 / 清理已经下载的包缓存 (被打断的下载)/remove/purge/autoremove/autoclean_xuchaoxin1375 的博客 - CSDN 博客_apt 清理</a></p>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（三）：Github访问、Steam++及Git安装与配置</title>
      <link href="/2024/07/19/Ubuntu/log22-12-20/"/>
      <url>/2024/07/19/Ubuntu/log22-12-20/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="steam-安装"><a class="anchor" href="#steam-安装">#</a> Steam++ 安装</h1><h2 id="下载"><a class="anchor" href="#下载">#</a> 下载</h2><ul><li><p><a href="%5Bhttps://steampp.net/%5D(https://steampp.net/)">Steam++ 官网</a></p></li><li><p>会下载一个集合包，包含了各个平台的安装包，选择 Linux 的 deb 安装包</p></li></ul><p> </p><h2 id="安装"><a class="anchor" href="#安装">#</a> 安装</h2><ul><li><code>sudo dpkg -i Steam++_linux_x64_[version].deb</code></li></ul><p> </p><h2 id="问题"><a class="anchor" href="#问题">#</a> 问题</h2><ul><li><p>端口无法监听</p><ul><li><p><a href="Steam++_linux_x64_v2.8.4.deb">官方解决办法原文</a></p></li><li><p>命令允许程序监听 1024 以下端口</p><p><code>sudo setcap cap_net_bind_service=+eip /usr/share/Steam++/Steam++</code></p></li></ul></li><li><p>Host 文件读取权限受限</p><blockquote><p>仅限于 Host 代理模式下</p></blockquote><ul><li><p>避免每次启动关闭加速需要输入密码，打开终端执行以下命令： <code>sudo chmod a+w /etc/hosts</code></p></li><li><p>如输入上面命令还提示无法 hosts 错误请尝试执行下面命令： <code>sudo chmod a+r /etc/hosts</code></p></li></ul></li><li><p>被浏览器拦截</p><blockquote><p>显示 “不是专有连接” 等提示，无效证书</p></blockquote><ul><li><p>解决办法：在浏览器设置中导入证书，从 <code>颁发机构</code> 导入</p></li><li><p>证书本地存放地址：</p><ul><li><p><code>~/.local/share/Steam++</code> (用户文件夹下)</p></li><li><p>通过 GUI 打开： <code>网络加速</code>  =&gt;  <code>...</code>  =&gt;  <code>打开证书文件夹</code></p></li></ul></li></ul></li></ul><p> </p><p> </p><h1 id="git-安装及配置"><a class="anchor" href="#git-安装及配置">#</a> Git 安装及配置</h1><blockquote><p>Git 已经在 22-12-16 安装但未记录</p><p>22-12-20 使用 Steam<ins> 设置代理代替 Clash，原来使用 Clash 时需设置手动代理，给 Git 也设置了代理，在使用 Steam</ins> 导致 GitHub 无法访问，删除原来的代理即可</p></blockquote><p> </p><h2 id="安装-2"><a class="anchor" href="#安装-2">#</a> 安装</h2><ul><li><p>更新 apt</p><pre><code>sudo apt updatesudo apt upgrade</code></pre></li><li><p>下载 Git</p><p><code>sudo apt install git</code></p></li></ul><p> </p><h2 id="配置"><a class="anchor" href="#配置">#</a> 配置</h2><blockquote><p>设置代理</p></blockquote><ul><li><p>使用命令设置 socks 或者 http 代理</p><pre><code># httpgit config --global http.proxy http://127.0.0.1:8080git config --global https.proxy https://127.0.0.1:8080# socksgit config --global http.proxy 'socks5://127.0.0.1:1080' git config --global https.proxy 'socks5://127.0.0.1:1080'</code></pre></li><li><p>使用命令行取消代理</p><pre><code>git config --global --unset http.proxygit config --global --unset https.proxy http</code></pre></li><li><p>直接修改.gitconfig 文件，新建或修改以下内容</p><p><code>vim ~/.gitconfig</code></p><pre><code>[http]proxy = socks5://127.0.0.1:1080[https]proxy = socks5://127.0.0.1:1080</code></pre></li></ul><p> </p><h2 id="使用"><a class="anchor" href="#使用">#</a> 使用</h2><ul><li><p>初始化本地仓库</p><p><code>git init</code></p></li><li><p>更新修改</p><p><code>git add .</code></p></li><li><p>提交版本到本地</p><p><code>git commit -m '版本号'</code></p></li><li><p>添加远程仓库链接</p><p><code>git remote add origin [repository address]</code></p></li><li><p>更新本地文件到远程仓库</p><blockquote><p>由于远程库是空的，我们第一次推送 <code>master</code>  分支时，加上了 <code>-u</code>  参数，Git 不但会把本地的 <code>master</code>  分支内容推送的远程新的 <code>master</code>  分支，还会把本地的 <code>master</code>  分支和远程的 <code>master</code>  分支关联起来，在以后的推送或者拉取时就可以简化命令</p></blockquote><p><code>git push -u origin master</code></p><ul><li><ul><li><code>git push -u origin master</code></li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（二）：安装MarkText插件</title>
      <link href="/2024/07/19/Ubuntu/log22-12-18/"/>
      <url>/2024/07/19/Ubuntu/log22-12-18/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="安装marktext插件"><a class="anchor" href="#安装marktext插件">#</a> 安装 MarkText 插件</h2><h3 id="资源"><a class="anchor" href="#资源">#</a> 资源</h3><ul><li><p><a href="https://github.com/marktext/marktext">Markext - GitHub Repository</a></p></li><li><p><a href="https://blog.csdn.net/m0_51426055/article/details/125815180">Markext 设置</a></p></li><li><p><a href="https://blog.csdn.net/S_AGZX/article/details/125608452">MarkDown 设置翻译</a></p></li></ul><p> </p><h2 id="appimage"><a class="anchor" href="#appimage">#</a> Appimage</h2><blockquote><p>多年以来，我们一直使用 DEB packages 来管理 Debian/Ubuntu 的软件包，使用 RPM 管理 Fedora/SUSE 的软件包。</p><p>用户使用这些包管理工具可以很方便的安装软件，但是这些仍然满足不了开发人员的需求。开发人员不得不开发更多的工具。这时 AppImage 来到了我们面前。AppImage 使用通用的软件格式，通过将整个软件打包成 AppImage, 一个包包含了所有的功能。并且几乎可以在所有的 linux 发行版本中使用。</p><p>AppImage 不需要像传统的那样安装。通常我们安装 linux 软件将会在不同的目录生成多个文件，并且需要 root 权限来对系统进行修改。AppImage 不需要这么做。事实上，AppImage 并不需要安装。AppImage 是一个压缩的镜像文件，它包含所有运行所需要的依赖和库文件。你可以直接执行 AppImage 文件不需要安装。当你把 AppImage 文件删除，整个软件也被删除了。你可以把它当成 windows 系统中的那些免安装的 exe 文件</p></blockquote><ul><li><p>AppImage 的特性或者优点</p><ul><li><p>可以运行在各种平台</p></li><li><p>不需要安装，直接执行</p></li><li><p>便携性：可以在位置执行</p></li><li><p>App 只读</p></li><li><p>卸载便利，只需要删除 AppImage 文件即可</p></li><li><p>不需要 root 权限，不需要修改系统文件</p></li></ul></li></ul><p> </p><h3 id="使用"><a class="anchor" href="#使用">#</a> 使用</h3><ul><li>chmod +x app.appimage</li></ul><p> </p><h3 id="安装appimagelancher"><a class="anchor" href="#安装appimagelancher">#</a> 安装 Appimagelancher</h3><ul><li><p><code>sudo apt install software-properties-common</code></p></li><li><p><code>sudo add-apt-repository ppa:appimagelauncher-team/stable</code></p></li><li><p><code>sudo apt update</code></p></li><li><p><code>sudo apt install appimagelauncher</code></p></li></ul><p> </p><h3 id="运行"><a class="anchor" href="#运行">#</a> 运行</h3><p>MarkText 时会自动打开 Appimagelancher，会自动添加快捷方式到程序列表</p>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【Ubuntu】双系统安装记录（一）：引导及基础配置</title>
      <link href="/2024/07/19/Ubuntu/log22-12-16/"/>
      <url>/2024/07/19/Ubuntu/log22-12-16/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="使用ventoy安装多系统"><a class="anchor" href="#使用ventoy安装多系统">#</a> 使用 ventoy 安装多系统</h1><ul><li>MBR GPT 区别</li></ul><h1 id="开机没有系统选择界面"><a class="anchor" href="#开机没有系统选择界面">#</a> 开机没有系统选择界面</h1><ol><li>使用 boot-repairs 修复引导程序<ul><li>有报错，uefi 和 legecy 冲突，改 bios 设置为 uefi（或仅 uefi）</li></ul></li><li>重启后更新 grub<ul><li><code>sudo update-grub</code></li><li><code>sudo update-grub2</code></li></ul></li><li>知识点<ul><li>学习</li></ul></li></ol><h1 id="主文件目录中文文件名改为英文"><a class="anchor" href="#主文件目录中文文件名改为英文">#</a> 主文件目录中文文件名改为英文</h1><ul><li>切换语言，中文切换到英文，重启后同意更改文件名</li><li>再从英文切换到中文，重启后不同意更改文件名且不再提醒</li></ul><h1 id="安装浏览器"><a class="anchor" href="#安装浏览器">#</a> 安装浏览器</h1><ul><li>chrome</li><li>edge</li></ul><h1 id="vpn"><a class="anchor" href="#vpn">#</a> VPN</h1><ul><li>仅渡口没有 clash</li></ul><h1 id="替换grub主题"><a class="anchor" href="#替换grub主题">#</a> 替换 grub 主题</h1><ul><li><a href="https://www.gnome-look.org/browse/cat/109/">grub 主题资源</a></li><li>其中一个主题 dedsec ，运行 pyton 脚本后需要更新 grub，且网站上的资源不能用，github 上的仓库可以用</li></ul><h1 id="修改分区"><a class="anchor" href="#修改分区">#</a> 修改分区</h1><ul><li>没有尝试，暂时根目录够用</li><li>根目录分区多给点，因为很多软件默认安装在根目录</li><li>有需要可以尝试的方法<ul><li>gparted（可能需要借助 u 盘，因为 ubuntu 无法卸载正在使用的挂在点，/home 的进程非常多，一旦杀掉就死机）</li></ul></li></ul><h1 id="安装vscode"><a class="anchor" href="#安装vscode">#</a> 安装 vscode</h1><h1 id="vscode-markdown"><a class="anchor" href="#vscode-markdown">#</a> vscode markdown</h1><ul><li>Markdown All in One</li><li>Markdown Preview Enhanced</li><li>Paste Image</li></ul><h1 id="安装git建立一个linux操作日志"><a class="anchor" href="#安装git建立一个linux操作日志">#</a> 安装 git，建立一个 linux 操作日志</h1><h1 id="修改输入法"><a class="anchor" href="#修改输入法">#</a> 修改输入法</h1><h1 id="安装clash"><a class="anchor" href="#安装clash">#</a> 安装 Clash</h1><ul><li>相关教程<ul><li><a href="https://www.cnblogs.com/mozhen/p/16306061.html">桌面版下载教程及桌面图标设置</a></li><li><a href="https://zhuanlan.zhihu.com/p/430035973">命令行下载教程及自定义 service 设置</a></li></ul></li><li>安装过程整理</li><li>问题<ul><li>安装完成后需要通过界面点击<a href="https://clash.razord.top/"> Clash Core</a> 打开<strong>网页端</strong><ul><li>不通过桌面端需要配置<strong>主机端口</strong>及<strong>密钥</strong></li><li><strong>只需打开一次</strong>，此后直接打开桌面端即可</li></ul></li><li>关闭 clash 后主机由于代理设置不能正常访问网络，需要关闭代理<ul><li>测试：主机关闭代理设置，网页端 -&gt; 设置 -&gt; 设置为系统代理</li><li>自动化：设置自定义服务，在退出时执行关闭代理命令（或者直接修改 clash 本身的 quit 相关脚本）<ul><li>测试 hellotest.service</li></ul></li></ul></li><li>确定 clash 的打开方式，方便快捷<ul><li>最终添加快捷方式</li><li>将 <code>clash.desktop</code>  添加到 <code>/usr/share/applications</code>  可以在 “显示应用程序” 中显示</li></ul></li></ul></li></ul><h1 id="修改默认浏览器为-edge"><a class="anchor" href="#修改默认浏览器为-edge">#</a> 修改默认浏览器为 edge</h1><ul><li><code>sudo update-alternatives --config x-www-browser</code></li><li>设置 =&gt; 默认应用程序 =&gt; 浏览器</li></ul><h1 id="ubuntu2204lts-安装-imagemagick源码"><a class="anchor" href="#ubuntu2204lts-安装-imagemagick源码">#</a> Ubuntu22.04LTS 安装 ImageMagick (源码)</h1><ul><li><a href="https://www.xtuos.com/5754.html">如何在 Ubuntu 22.04 LTS 上安装 ImageMagick</a></li><li>升级库和安装依赖<ul><li><code>sudo apt update</code></li><li><code>sudo apt upgrade</code></li><li>安装 gcc、build build-essential、make</li><li><code>sudo apt install make build-essential automake libltdl-dev git</code></li></ul></li><li>从 github 上下载源码（网络问题没 clone）<ul><li><a href="https://github.com/ImageMagick/ImageMagick">Github : ImageMagick - repository</a></li><li><code>unzip [file-name]</code></li><li><code>cd [file-name]</code></li></ul></li><li>初始化<ul><li><code>./configure</code></li><li><code>./configure --with-modules</code></li></ul></li><li>编译<ul><li><code>sudo make</code></li><li><code>sudo make install</code></li></ul></li><li>动态链接库<ul><li><code>sudo ldconfig /usr/local/lib</code></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
